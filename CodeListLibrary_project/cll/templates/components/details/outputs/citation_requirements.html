{% load static %}
{% load markdownify %}
{% load cl_extras %}
{% load entity_renderer %}

{% fmtstr "%s/%d" entity.id entity.history_id as entity_ref %}
<div
  class="detailed-input-group fill gap-xl"
  data-ba-origin="citationrequirements"
  data-ba-source="{{ entity_ref }}"
  data-ba-resource="ugc"
>
  <div class="col-sm-12 shadow-frame">
    {% if not component.value|is_empty_value %}
      <h3 class="paneltitle">
        <span id="entity-{{ component.field_name }}"></span>
        {% if not component.hide_input_title %}
          <h3 class="detailed-input-group__title">{{ component.field_data.title }}</h3>
        {% endif %}

        {% if not component.hide_input_details %}
          <p class="detailed-input-group__description">{{ component.description }}</p>
        {% endif %}

        <div class="markdown-render-container slim-scrollbar">
          {{ component.value|markdownify }}
        </div>
      </h3>
    {% else %}
      <h3 class="detailed-input-group__title">Citation Example</h3>
      {% render_citation_block entity request as citation %}
      <div class="markdown-render-container slim-scrollbar">
        {{ citation|markdownify }}
      </div>
    {% endif %}
  </div>
</div>
