<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="clinicalcode.forms package" href="clinicalcode.forms.html" /><link rel="prev" title="clinicalcode.context_processors package" href="clinicalcode.context_processors.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2024.01.29 -->
        <title>clinicalcode.entity_utils package - Library Code Reference Data</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Library Code Reference Data</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/header_logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Library Code Reference Data</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="modules.html">CodeListLibrary_project</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of CodeListLibrary_project</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children"><a class="reference internal" href="clinicalcode.html">clinicalcode package</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of clinicalcode package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3 has-children"><a class="reference internal" href="clinicalcode.api.html">clinicalcode.api package</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of clinicalcode.api package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="clinicalcode.api.views.html">clinicalcode.api.views package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="clinicalcode.context_processors.html">clinicalcode.context_processors package</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">clinicalcode.entity_utils package</a></li>
<li class="toctree-l3"><a class="reference internal" href="clinicalcode.forms.html">clinicalcode.forms package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="clinicalcode.management.html">clinicalcode.management package</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of clinicalcode.management package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="clinicalcode.management.commands.html">clinicalcode.management.commands package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="clinicalcode.middleware.html">clinicalcode.middleware package</a></li>
<li class="toctree-l3"><a class="reference internal" href="clinicalcode.migrations.html">clinicalcode.migrations package</a></li>
<li class="toctree-l3"><a class="reference internal" href="clinicalcode.models.html">clinicalcode.models package</a></li>
<li class="toctree-l3"><a class="reference internal" href="clinicalcode.storage.html">clinicalcode.storage package</a></li>
<li class="toctree-l3"><a class="reference internal" href="clinicalcode.templatetags.html">clinicalcode.templatetags package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="clinicalcode.views.html">clinicalcode.views package</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of clinicalcode.views package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="clinicalcode.views.tests.html">clinicalcode.views.tests package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cll.html">cll package</a></li>
<li class="toctree-l2"><a class="reference internal" href="manage.html">manage module</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="clinicalcode-entity-utils-package">
<h1>clinicalcode.entity_utils package<a class="headerlink" href="#clinicalcode-entity-utils-package" title="Link to this heading">#</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">#</a></h2>
</section>
<section id="module-clinicalcode.entity_utils.api_utils">
<span id="clinicalcode-entity-utils-api-utils-module"></span><h2>clinicalcode.entity_utils.api_utils module<a class="headerlink" href="#module-clinicalcode.entity_utils.api_utils" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.PrettyJsonRenderer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">PrettyJsonRenderer</span></span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#PrettyJsonRenderer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.PrettyJsonRenderer" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">JSONRenderer</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.PrettyJsonRenderer.get_indent">
<span class="sig-name descname"><span class="pre">get_indent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">accepted_media_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">renderer_context</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#PrettyJsonRenderer.get_indent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.PrettyJsonRenderer.get_indent" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.annotate_linked_entities">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">annotate_linked_entities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entities</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#annotate_linked_entities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.annotate_linked_entities" title="Link to this definition">#</a></dt>
<dd><p>Annotates linked entities with phenotype and template details</p>
<dl class="simple">
<dt>Args:</dt><dd><p>entities (QuerySet): Entities queryset</p>
</dd>
<dt>Returns:</dt><dd><p>Queryset containing annotated entities</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.build_final_codelist_from_concepts">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">build_final_codelist_from_concepts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concept_information</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_concept_detail</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#build_final_codelist_from_concepts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.build_final_codelist_from_concepts" title="Link to this definition">#</a></dt>
<dd><p>Builds the final codelist from all entity concepts</p>
<dl class="simple">
<dt>Args:</dt><dd><p>entity (GenericEntity): Entity object
concept_information {list of ints}: List of concept ids
inline (boolean): Optionally format the response to be a list</p>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>Dict object containing final codelist if inline is False, otherwise, returns</dt><dd><p>list containing final codelist</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.build_query_from_template">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">build_query_from_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_authed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#build_query_from_template"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.build_query_from_template" title="Link to this definition">#</a></dt>
<dd><p>Builds query (terms and where clauses) based on a template</p>
<dl>
<dt>Args:</dt><dd><p>request (HTTPContext): Request context
user_authed (boolean): Whether the user making the request is</p>
<blockquote>
<div><p>authenticated</p>
</div></blockquote>
<p>template (dict): Template object</p>
</dd>
<dt>Returns:</dt><dd><p>Terms and where clause built from the template</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.create_update_from_api_form">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">create_update_from_api_form</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#create_update_from_api_form"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.create_update_from_api_form" title="Link to this definition">#</a></dt>
<dd><p>Create or updates an entity from an entity form dict</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request (HTTPContext): Request context
form (dict): Dict containing entity information</p>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>Created/Updated entity if validation succeeds, otherwise returns</dt><dd><p>400 response</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.exists_concept">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">exists_concept</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#exists_concept"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.exists_concept" title="Link to this definition">#</a></dt>
<dd><p>Checks whether a concept with given concept_id exists</p>
<dl class="simple">
<dt>Args:</dt><dd><p>concept_id (string): Id of the concept to be checked</p>
</dd>
<dt>Returns:</dt><dd><p>If concept exists, returns concept, else returns 404 response</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.exists_entity">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">exists_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#exists_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.exists_entity" title="Link to this definition">#</a></dt>
<dd><p>Checks whether an entity with given entity_id exists</p>
<dl class="simple">
<dt>Args:</dt><dd><p>entity_id (string): Id of entity to be checked</p>
</dd>
<dt>Returns:</dt><dd><p>If entity exists, returns entity, else returns 404 response</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.exists_historical_concept">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">exists_historical_concept</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">historical_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#exists_historical_concept"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.exists_historical_concept" title="Link to this definition">#</a></dt>
<dd><p>Checks whether a historical version of a concept exists</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request (RequestContext): the HTTPRequest
concept_id (string): concept id
historical_id (Integer): historical id of the concept</p>
</dd>
<dt>Returns:</dt><dd><p>If exists, returns first instance of historical concept, otherwise 
returns response 404</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.exists_historical_entity">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">exists_historical_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">historical_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#exists_historical_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.exists_historical_entity" title="Link to this definition">#</a></dt>
<dd><p>Checks whether a historical version of an entity exists</p>
<dl class="simple">
<dt>Args:</dt><dd><p>entity_id (string): entity id
user (User): User object
historical_id (Integer): historical id</p>
</dd>
<dt>Returns:</dt><dd><p>If exists, returns first instance of historical entity, otherwise 
returns response 404</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.get_codelist_from_entity">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">get_codelist_from_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#get_codelist_from_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.get_codelist_from_entity" title="Link to this definition">#</a></dt>
<dd><p>Retrieves final codelist from an entity</p>
<dl class="simple">
<dt>Args:</dt><dd><p>entity (GenericEntity): Entity object</p>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>If the entity contains a codelist, returns the final codelist, otherwise</dt><dd><p>returns 400/404 response depending on status within the template/entity</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.get_concept_version_history">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">get_concept_version_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#get_concept_version_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.get_concept_version_history" title="Link to this definition">#</a></dt>
<dd><p>Retrieves a concepts version history</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request (HTTPContext): Request context
concept_id (string): concept id</p>
</dd>
<dt>Returns:</dt><dd><p>Dict containing version history of entity</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.get_concept_versions_from_entity">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">get_concept_versions_from_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#get_concept_versions_from_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.get_concept_versions_from_entity" title="Link to this definition">#</a></dt>
<dd><p>Retrieves concept versions for an entity</p>
<dl class="simple">
<dt>Args:</dt><dd><p>entity (GenericEntity): Entity object</p>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>Dict containing all concept_ids and concept_version_ids associated with </dt><dd><p>the entity passed</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.get_entity_detail">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">get_entity_detail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_authed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields_to_ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['deleted',</span> <span class="pre">'created_by',</span> <span class="pre">'updated_by',</span> <span class="pre">'deleted_by',</span> <span class="pre">'brands']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#get_entity_detail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.get_entity_detail" title="Link to this definition">#</a></dt>
<dd><p>Gets entity detail</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request (HTTPContext): Request context
entity_id (integer): Entity id
entity (GenericEntity): Entity object
user_authed (boolean): Whether the user is authenticated or not
fields_to_ignore (list of strings): Fields that should be ignored from result
target_field (string): Field to target and break early if required
return_data (boolean): Optionally return data or response</p>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>Returns response containing entity detail if return_data is False,</dt><dd><p>otherwise returns dict containing built entity detail</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.get_entity_detail_from_layout">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">get_entity_detail_from_layout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_authed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields_to_ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#get_entity_detail_from_layout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.get_entity_detail_from_layout" title="Link to this definition">#</a></dt>
<dd><dl>
<dt>Retrieves entity detail in the format required for detail API endpoint,</dt><dd><p>specifically from a template</p>
</dd>
<dt>Args:</dt><dd><p>entity (GenericEntity): Entity object to get the detail for
fields (dict): dict containing layout of the entity
user_authed (boolean): Whether the user is authenticated
fields_to_ignore (list of strings): List of fields to remove from output
target_field (string): Field to be targeted, i.e. only build the detail</p>
<blockquote>
<div><p>for this particular field</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>Dict containing details of the entity specified</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.get_entity_detail_from_meta">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">get_entity_detail_from_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields_to_ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#get_entity_detail_from_meta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.get_entity_detail_from_meta" title="Link to this definition">#</a></dt>
<dd><dl>
<dt>Retrieves entity detail in the format required for detail API endpoint,</dt><dd><p>specifically from metadata fields, e.g. constants</p>
</dd>
<dt>Args:</dt><dd><p>entity (GenericEntity): Entity object to get the detail for
data (dict): dict containing previously built detail
fields_to_ignore (list of strings): List of fields to remove from output
target_field (string): Field to be targeted, i.e. only build the detail</p>
<blockquote>
<div><p>for this particular field</p>
</div></blockquote>
</dd>
<dt>Returns:</dt><dd><p>Dict containing details of the entity specified</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.get_entity_version_history">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">get_entity_version_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#get_entity_version_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.get_entity_version_history" title="Link to this definition">#</a></dt>
<dd><p>Retrieves an entities version history</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request (HTTPContext): Request context
entity_id (string): Entity id</p>
</dd>
<dt>Returns:</dt><dd><p>Dict containing version history of entity</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.get_formatted_concept_codes">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">get_formatted_concept_codes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concept_codelist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#get_formatted_concept_codes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.get_formatted_concept_codes" title="Link to this definition">#</a></dt>
<dd><p>Formats concept codelist and attribute data in the format required for API</p>
<dl class="simple">
<dt>Args:</dt><dd><p>concept (Concept): Concept object
concept_codelist (dict): Dict containing codelist data
headers (list of strings): List containing attribute headers</p>
</dd>
<dt>Returns:</dt><dd><p>Dict containing formatted concept codelist information</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.get_layout_from_entity">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">get_layout_from_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#get_layout_from_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.get_layout_from_entity" title="Link to this definition">#</a></dt>
<dd><p>Retrieve the layout of an entity</p>
<dl class="simple">
<dt>Args:</dt><dd><p>entity (GenericEntity): Entity object</p>
</dd>
<dt>Returns:</dt><dd><p>Layout of entity if entity exists, otherwise 404 response</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.get_ordered_entity_detail">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">get_ordered_entity_detail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layout_version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_versions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#get_ordered_entity_detail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.get_ordered_entity_detail" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>Orders entity detail and appends template and version history to the detail</dt><dd><p>dict</p>
</dd>
<dt>Args:</dt><dd><p>fields (dict): Dict of fields from a template object
layout (dict): Layout object
layout_version (integer): Layout version
entity_versions (dict): Dict containing entity version information
data (dict): Entity detail built so far</p>
</dd>
<dt>Returns:</dt><dd><p>Ordered entity detail with appended template and version history fields</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.get_template_versions">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">get_template_versions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#get_template_versions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.get_template_versions" title="Link to this definition">#</a></dt>
<dd><p>Retrieves version history of a template from template_id</p>
<dl class="simple">
<dt>Args:</dt><dd><p>template_id (Integer): Template id</p>
</dd>
<dt>Returns:</dt><dd><p>List containing version history of template</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.is_malformed_entity_id">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">is_malformed_entity_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">primary_key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#is_malformed_entity_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.is_malformed_entity_id" title="Link to this definition">#</a></dt>
<dd><p>Checks whether primary key is malformed</p>
<dl class="simple">
<dt>Args:</dt><dd><p>primary_key (string): string containing primary key to be checked</p>
</dd>
<dt>Returns:</dt><dd><p>If primary key is malformed, returns 406 response, else returns split id
i.e. PH123 -&gt; ‘PH’, ‘123’</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.populate_entity_version_id">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">populate_entity_version_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">form</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#populate_entity_version_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.populate_entity_version_id" title="Link to this definition">#</a></dt>
<dd><p>Populates entity version id in entity form dict</p>
<dl class="simple">
<dt>Args:</dt><dd><p>form (dict): Entity form dict</p>
</dd>
<dt>Returns:</dt><dd><p>Form with entity version based on entity_id</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.api_utils.validate_api_create_update_form">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.api_utils.</span></span><span class="sig-name descname"><span class="pre">validate_api_create_update_form</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/api_utils.html#validate_api_create_update_form"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.api_utils.validate_api_create_update_form" title="Link to this definition">#</a></dt>
<dd><p>Validates entity form dict</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request (HTTPContext): Request context
method (Integer): Represents create/update, see constants.FORM_METHODS enum</p>
</dd>
<dt>Returns:</dt><dd><p>Validated form if successful, otherwise returns 400 response</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-clinicalcode.entity_utils.concept_utils">
<span id="clinicalcode-entity-utils-concept-utils-module"></span><h2>clinicalcode.entity_utils.concept_utils module<a class="headerlink" href="#module-clinicalcode.entity_utils.concept_utils" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.concept_utils.get_associated_concept_codes">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.concept_utils.</span></span><span class="sig-name descname"><span class="pre">get_associated_concept_codes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concept_history_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incl_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/concept_utils.html#get_associated_concept_codes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.concept_utils.get_associated_concept_codes" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>[!] Note: This method ignores permissions - it should only be called from a</dt><dd><p>a method that has previously considered accessibility</p>
</dd>
</dl>
<p>Retrieves the concept codes associated with the code_ids list</p>
<dl class="simple">
<dt>Args:</dt><dd><p>concept_id (number): The concept ID of interest
concept_history_id (number): The concept’s historical id of interest
code_ids (list): The code ids filter
incl_attributes (bool): Whether to include code attributes</p>
</dd>
<dt>Returns:</dt><dd><p>The codes that are present in the code ids list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.concept_utils.get_clinical_concept_data">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.concept_utils.</span></span><span class="sig-name descname"><span class="pre">get_clinical_concept_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concept_history_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_reviewed_codes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregate_component_codes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_component_codes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strippable_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_userdata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hide_user_details</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">derive_access_from</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_for_api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_source_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/concept_utils.html#get_clinical_concept_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.concept_utils.get_clinical_concept_data" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>[!] Note: This method ignores permissions to derive data - it should only be called from a</dt><dd><p>a method that has previously considered accessibility</p>
</dd>
</dl>
<p>Retrieves all data associated with a HistoricConcept,
incl. a list of codes assoc. with each component, or the
final codelist, if requested</p>
<dl>
<dt>Args:</dt><dd><p>concept_id (number): The concept ID of interest
concept_history_id (number): The concept’s historical id of interest
include_reviewed_codes (boolean): When building the data, should we pull the finalised reviewed codes?
aggregate_component_codes (boolean): When building the codelist, should we aggregate across components?
include_component_codes (boolean): When building the components, should we incl. a codelist for each component?
include_attributes (boolean): Should we include attributes?
strippable_fields (list): Whether to strip any fields from the Concept model when</p>
<blockquote>
<div><p>building the concept’s data result</p>
</div></blockquote>
<p>remove_userdata (boolean): Whether to remove userdata related fields from the result (assoc. with each Concept)
derive_access_from (RequestContext): Using the RequestContext, determine whether a user can edit a Concept
format_for_api (boolean): Flag to format against legacy API
include_source_data (boolean): Flag to det. whether we should incl. source data e.g. wildcard, desc search etc</p>
</dd>
<dt>Returns:</dt><dd><p>A dictionary that describes the concept, its components, and associated codes; constrained
by the method parameters</p>
<p>If a RequestContext was provided, per the derive_access_from param, it will return a permission context</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.concept_utils.get_concept_codelist">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.concept_utils.</span></span><span class="sig-name descname"><span class="pre">get_concept_codelist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concept_history_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incl_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/concept_utils.html#get_concept_codelist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.concept_utils.get_concept_codelist" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>[!] Note: This method ignores permissions - it should only be called from a</dt><dd><p>a method that has previously considered accessibility</p>
</dd>
</dl>
<p>Builds the distinct, aggregated codelist from every component associated
with a concept, given its ID and historical id</p>
<dl>
<dt>Args:</dt><dd><p>concept_id (number): The concept ID of interest</p>
<p>concept_history_id (number): The concept’s historical id of interest</p>
<p>incl_attributes (bool): Whether to include code attributes</p>
</dd>
<dt>Returns:</dt><dd><p>A list of distinct codes associated with a concept across each of its components</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.concept_utils.get_concept_component_details">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.concept_utils.</span></span><span class="sig-name descname"><span class="pre">get_concept_component_details</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concept_history_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregate_codes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_codes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attribute_headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_source_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_for_api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/concept_utils.html#get_concept_component_details"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.concept_utils.get_concept_component_details" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>[!] Note: This method ignores permissions - it should only be called from a</dt><dd><p>a method that has previously considered accessibility</p>
</dd>
</dl>
<p>Attempts to get all component, codelist and code data assoc.
with a historical concept</p>
<dl>
<dt>Args:</dt><dd><p>concept_id (number): The concept ID of interest
concept_history_id (number): The concept’s historical id of interest
aggregate_codes (boolean): If true, will return a ‘codelist’ key-value pair in the result dict that</p>
<blockquote>
<div><p>describes the distinct, aggregated codes across all components</p>
</div></blockquote>
<dl class="simple">
<dt>include_codes (boolean): If true, will return a ‘codes’ key-value pair within each component</dt><dd><p>that describes each code included in a component</p>
</dd>
<dt>attribute_headers (list): If a non-null list is passed, the method will attempt to find the attributes</dt><dd><p>associated with each code within every component (and codelist)</p>
</dd>
</dl>
<p>include_source_data (boolean): Flag to det. whether we should incl. source data e.g. wildcard, desc search etc
format_for_api (boolean): Flag to format against legacy API</p>
</dd>
<dt>Returns:</dt><dd><p>dict: A dict that describes the components and their details associated with this historical concept,
and if aggregate_codes was passed, will return the distinct codelist across components</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.concept_utils.get_concept_dataset">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.concept_utils.</span></span><span class="sig-name descname"><span class="pre">get_concept_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">packet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'concept_information'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/concept_utils.html#get_concept_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.concept_utils.get_concept_dataset" title="Link to this definition">#</a></dt>
<dd><p>Attempts to collate a packet that contains data relating to the concepts
defined in the list</p>
<p>[!] Note: This method ignores permissions - it should only be called from a
a method that has previously considered accessibility</p>
<dl class="simple">
<dt>Will return true if:</dt><dd><ol class="arabic simple">
<li><p>The Concept was published directly via a legacy system</p></li>
<li><p>The Concept is currently owned by a Published Phenotype</p></li>
<li><p>The Concept was ever included in historic Published Phenotype</p></li>
</ol>
</dd>
<dt>Args:</dt><dd><p>packet (list[object]): A list of objects that contain a {concept_id: [int], concept_version_id: [int]}
field_name (string): The name of the template field from which this packet was derived
default (any, optional): the default return value if this method fails</p>
</dd>
<dt>Returns:</dt><dd><p>list[object]|null: An (array[object]) that contains information relating to the concept: Name &amp; ID + Version ID; or (default|None) if the children have no child codes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.concept_utils.get_latest_accessible_concept">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.concept_utils.</span></span><span class="sig-name descname"><span class="pre">get_latest_accessible_concept</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/concept_utils.html#get_latest_accessible_concept"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.concept_utils.get_latest_accessible_concept" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>Gets the latest accessible concept, as described by the user’s</dt><dd><p>permissions and the given concept id</p>
</dd>
<dt>Will return true if:</dt><dd><ol class="arabic simple">
<li><p>The Concept was published directly via a legacy system</p></li>
<li><p>The Concept is currently owned by a Published Phenotype</p></li>
<li><p>The Concept was ever included in historic Published Phenotype</p></li>
</ol>
</dd>
<dt>Args:</dt><dd><p>concept_id (RequestContext): the HTTPRequest
concept_id (int): the concept’s ID
default (any, optional): the default return value if this method fails</p>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>object|null: The latest, accessible (concept) for that user and the concept id,</dt><dd><p>otherwise returns (None)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.concept_utils.get_latest_published_concept">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.concept_utils.</span></span><span class="sig-name descname"><span class="pre">get_latest_published_concept</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/concept_utils.html#get_latest_published_concept"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.concept_utils.get_latest_published_concept" title="Link to this definition">#</a></dt>
<dd><p>Gets the latest published concept given a concept id</p>
<dl class="simple">
<dt>Will return true if:</dt><dd><ol class="arabic simple">
<li><p>The Concept was published directly via a legacy system</p></li>
<li><p>The Concept is currently owned by a Published Phenotype</p></li>
<li><p>The Concept was ever included in historic Published Phenotype</p></li>
</ol>
</dd>
<dt>Args:</dt><dd><p>concept_id (int): the Concept’s id
default (any, optional): the default return value if this method fails</p>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>object|null: The latest, published (concept) for that user and the concept id,</dt><dd><p>otherwise returns (None)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.concept_utils.get_minimal_concept_data">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.concept_utils.</span></span><span class="sig-name descname"><span class="pre">get_minimal_concept_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/concept_utils.html#get_minimal_concept_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.concept_utils.get_minimal_concept_data" title="Link to this definition">#</a></dt>
<dd><p>Gets the minimum concept related details
required for the API view to support legacy
requests &amp; formatting</p>
<dl class="simple">
<dt>Args:</dt><dd><p>concept (Concept()) - the Concept model instance</p>
</dd>
<dt>Returns:</dt><dd><p>An (object) containing the associated data</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.concept_utils.get_review_concept">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.concept_utils.</span></span><span class="sig-name descname"><span class="pre">get_review_concept</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concept_history_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/concept_utils.html#get_review_concept"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.concept_utils.get_review_concept" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>[!] Note: This method ignores permissions - it should only be called from a</dt><dd><p>a method that has previously considered accessibility</p>
</dd>
</dl>
<p>Retrieves the ConceptReviewStatus instance assoc. with a Concept
given its id and historical id</p>
<dl class="simple">
<dt>Args:</dt><dd><p>concept_id (number): The concept ID of interest
concept_history_id (number): The concept’s historical id of interest</p>
</dd>
<dt>Returns:</dt><dd><p>The associated ConceptReviewStatus instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.concept_utils.get_reviewable_concept">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.concept_utils.</span></span><span class="sig-name descname"><span class="pre">get_reviewable_concept</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concept_history_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hide_user_details</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incl_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/concept_utils.html#get_reviewable_concept"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.concept_utils.get_reviewable_concept" title="Link to this definition">#</a></dt>
<dd><p>Intended to get the reviewed / reviewable codes for a Concept</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.concept_utils.is_concept_published">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.concept_utils.</span></span><span class="sig-name descname"><span class="pre">is_concept_published</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/concept_utils.html#is_concept_published"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.concept_utils.is_concept_published" title="Link to this definition">#</a></dt>
<dd><p>Checks whether a Concept is published</p>
<dl class="simple">
<dt>Will return true if:</dt><dd><ol class="arabic simple">
<li><p>The Concept is currently published directly via a legacy system</p></li>
<li><p>The Concept is currently owned by a Published Phenotype that’s published</p></li>
<li><p>The Concept is included in a historic Published Phenotype</p></li>
</ol>
</dd>
<dt>Args:</dt><dd><p>concept_id (int): the Concept’s id
version_id (int): the Concept’s history_id</p>
</dd>
<dt>Returns:</dt><dd><p>bool: Reflects published status</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.concept_utils.was_concept_ever_published">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.concept_utils.</span></span><span class="sig-name descname"><span class="pre">was_concept_ever_published</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/concept_utils.html#was_concept_ever_published"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.concept_utils.was_concept_ever_published" title="Link to this definition">#</a></dt>
<dd><p>Checks whether a Concept has ever been published</p>
<dl class="simple">
<dt>Will return true if:</dt><dd><ol class="arabic simple">
<li><p>The Concept was published directly via a legacy system</p></li>
<li><p>The Concept is currently owned by a Published Phenotype</p></li>
<li><p>The Concept was ever included in historic Published Phenotype</p></li>
</ol>
</dd>
<dt>Args:</dt><dd><p>concept_id (int): the Concept’s id
version_id (int|null): the Concept’s history_id</p>
</dd>
<dt>Returns:</dt><dd><p>bool: Reflects all-time published status</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-clinicalcode.entity_utils.constants">
<span id="clinicalcode-entity-utils-constants-module"></span><h2>clinicalcode.entity_utils.constants module<a class="headerlink" href="#module-clinicalcode.entity_utils.constants" title="Link to this heading">#</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.API_HIDDEN_FIELDS">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">API_HIDDEN_FIELDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['history_id',</span> <span class="pre">'history_date',</span> <span class="pre">'history_change_reason',</span> <span class="pre">'history_type',</span> <span class="pre">'history_user',</span> <span class="pre">'template',</span> <span class="pre">'template_data',</span> <span class="pre">'template_version',</span> <span class="pre">'internal_comments']</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.API_HIDDEN_FIELDS" title="Link to this definition">#</a></dt>
<dd><p>Re-maps field names to user readable field names</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.API_MAP_FIELD_NAMES">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">API_MAP_FIELD_NAMES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'id':</span> <span class="pre">'phenotype_id'}</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.API_MAP_FIELD_NAMES" title="Link to this definition">#</a></dt>
<dd><p>Describes fields that should be stripped from entity list api response</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.APPENDED_SECTIONS">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">APPENDED_SECTIONS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'description':</span> <span class="pre">'Settings</span> <span class="pre">for</span> <span class="pre">sharing</span> <span class="pre">and</span> <span class="pre">collaboration.',</span> <span class="pre">'fields':</span> <span class="pre">['group',</span> <span class="pre">'group_access',</span> <span class="pre">'world_access'],</span> <span class="pre">'title':</span> <span class="pre">'Permissions'}]</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.APPENDED_SECTIONS" title="Link to this definition">#</a></dt>
<dd><p>[!] All items will be appended to the list of renderables in the detail page, meaning they will always appear last</p>
<dl class="simple">
<dt>Used to define:</dt><dd><ul class="simple">
<li><p>Sections and fields that relate to permissions for the detail page</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.APPROVAL_STATUS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">APPROVAL_STATUS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/constants.html#APPROVAL_STATUS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.constants.APPROVAL_STATUS" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Approval status of a published entity</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.APPROVAL_STATUS.ANY">
<span class="sig-name descname"><span class="pre">ANY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">-1</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.APPROVAL_STATUS.ANY" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.APPROVAL_STATUS.APPROVED">
<span class="sig-name descname"><span class="pre">APPROVED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.APPROVAL_STATUS.APPROVED" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.APPROVAL_STATUS.PENDING">
<span class="sig-name descname"><span class="pre">PENDING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.APPROVAL_STATUS.PENDING" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.APPROVAL_STATUS.REJECTED">
<span class="sig-name descname"><span class="pre">REJECTED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.APPROVAL_STATUS.REJECTED" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.APPROVAL_STATUS.REQUESTED">
<span class="sig-name descname"><span class="pre">REQUESTED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.APPROVAL_STATUS.REQUESTED" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.CARDS_DIRECTORY">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">CARDS_DIRECTORY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'components/search/cards'</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.CARDS_DIRECTORY" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>Filter render modifier(s)</dt><dd><p>Used by entity_renderer as defaults</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.CLINICAL_CODE_REVIEW">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">CLINICAL_CODE_REVIEW</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/constants.html#CLINICAL_CODE_REVIEW"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_REVIEW" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Review status for a code within a clinical concept</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.CLINICAL_CODE_REVIEW.EXCLUDE">
<span class="sig-name descname"><span class="pre">EXCLUDE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_REVIEW.EXCLUDE" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.CLINICAL_CODE_REVIEW.INCLUDE">
<span class="sig-name descname"><span class="pre">INCLUDE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_REVIEW.INCLUDE" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">CLINICAL_CODE_SOURCE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/constants.html#CLINICAL_CODE_SOURCE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Audit source of a clinical code within a clinical concept</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.CONCEPT">
<span class="sig-name descname"><span class="pre">CONCEPT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.CONCEPT" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.CONCEPT_IMPORT">
<span class="sig-name descname"><span class="pre">CONCEPT_IMPORT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">7</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.CONCEPT_IMPORT" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.EXPRESSION">
<span class="sig-name descname"><span class="pre">EXPRESSION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.EXPRESSION" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.FILE_IMPORT">
<span class="sig-name descname"><span class="pre">FILE_IMPORT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.FILE_IMPORT" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.QUERY_BUILDER">
<span class="sig-name descname"><span class="pre">QUERY_BUILDER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.QUERY_BUILDER" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.SEARCH_TERM">
<span class="sig-name descname"><span class="pre">SEARCH_TERM</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">6</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.SEARCH_TERM" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.SELECT_IMPORT">
<span class="sig-name descname"><span class="pre">SELECT_IMPORT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.SELECT_IMPORT" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.CLINICAL_RULE_TYPE">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">CLINICAL_RULE_TYPE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/constants.html#CLINICAL_RULE_TYPE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.constants.CLINICAL_RULE_TYPE" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Ruleset type for clinical concept</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.CLINICAL_RULE_TYPE.EXCLUDE">
<span class="sig-name descname"><span class="pre">EXCLUDE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.CLINICAL_RULE_TYPE.EXCLUDE" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.CLINICAL_RULE_TYPE.INCLUDE">
<span class="sig-name descname"><span class="pre">INCLUDE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.CLINICAL_RULE_TYPE.INCLUDE" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.CREATE_WIZARD_INPUT_DIR">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">CREATE_WIZARD_INPUT_DIR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'components/create/inputs'</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.CREATE_WIZARD_INPUT_DIR" title="Link to this definition">#</a></dt>
<dd><p>Entity detail page related defaults</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.DETAIL_PAGE_APPENDED_FIELDS">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">DETAIL_PAGE_APPENDED_FIELDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'api':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'field_type':</span> <span class="pre">'api_section',</span> <span class="pre">'hide_on_create':</span> <span class="pre">True,</span> <span class="pre">'title':</span> <span class="pre">'API'},</span> <span class="pre">'history_id':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'field_type':</span> <span class="pre">'history_id',</span> <span class="pre">'hide_on_create':</span> <span class="pre">True,</span> <span class="pre">'title':</span> <span class="pre">'Version</span> <span class="pre">ID'},</span> <span class="pre">'permissions':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'field_type':</span> <span class="pre">'permissions_section',</span> <span class="pre">'hide_on_create':</span> <span class="pre">True,</span> <span class="pre">'title':</span> <span class="pre">'Permissions'},</span> <span class="pre">'version_history':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'field_type':</span> <span class="pre">'version_history_section',</span> <span class="pre">'hide_on_create':</span> <span class="pre">True,</span> <span class="pre">'title':</span> <span class="pre">'Version</span> <span class="pre">History'}}</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.DETAIL_PAGE_APPENDED_FIELDS" title="Link to this definition">#</a></dt>
<dd><p>[!] Note: Will be moved to a table once tooling is finished, accessible through the ‘base_template_version’</p>
<dl class="simple">
<dt>Used to define:</dt><dd><ul class="simple">
<li><p>Hashmap for values from sourced data</p></li>
<li><p>By filter to determine metadata-related filters</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.DETAIL_PAGE_APPENDED_SECTIONS">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">DETAIL_PAGE_APPENDED_SECTIONS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'description':</span> <span class="pre">'',</span> <span class="pre">'fields':</span> <span class="pre">['permissions'],</span> <span class="pre">'requires_auth':</span> <span class="pre">True,</span> <span class="pre">'title':</span> <span class="pre">'Permissions'},</span> <span class="pre">{'description':</span> <span class="pre">'',</span> <span class="pre">'fields':</span> <span class="pre">['api'],</span> <span class="pre">'title':</span> <span class="pre">'API'},</span> <span class="pre">{'description':</span> <span class="pre">'',</span> <span class="pre">'fields':</span> <span class="pre">['version_history'],</span> <span class="pre">'title':</span> <span class="pre">'Version</span> <span class="pre">History'}]</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.DETAIL_PAGE_APPENDED_SECTIONS" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>Used to define:</dt><dd><ul class="simple">
<li><p>fields that relate to DETAIL_PAGE_APPENDED_SECTIONS for the detail page</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.DETAIL_WIZARD_OUTPUT_DIR">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">DETAIL_WIZARD_OUTPUT_DIR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'components/details/outputs'</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.DETAIL_WIZARD_OUTPUT_DIR" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>Used to strip userdata from models when JSONifying them</dt><dd><p>e.g. user account, user profile, membership</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.ENTITY_FILTER_PARAMS">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">ENTITY_FILTER_PARAMS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'source_by_brand':</span> <span class="pre">{'expected_params':</span> <span class="pre">{'column_name':</span> <span class="pre">&lt;class</span> <span class="pre">'str'&gt;,</span> <span class="pre">'request':</span> <span class="pre">&lt;class</span> <span class="pre">'django.http.request.HttpRequest'&gt;},</span> <span class="pre">'field_properties':</span> <span class="pre">{'collections':</span> <span class="pre">{'column_name':</span> <span class="pre">'collection_brand'},</span> <span class="pre">'tags':</span> <span class="pre">{'column_name':</span> <span class="pre">'collection_brand'}},</span> <span class="pre">'filter':</span> <span class="pre">'brand_filter',</span> <span class="pre">'properties':</span> <span class="pre">{}}}</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.ENTITY_FILTER_PARAMS" title="Link to this definition">#</a></dt>
<dd><p>[!] All items will be appended to the list of renderables, meaning they will always appear last</p>
<dl class="simple">
<dt>Used to define:</dt><dd><ul class="simple">
<li><p>Sections and fields that relate to permissions for create interface</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.ENTITY_LIST_API_HIDDEN_FIELDS">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">ENTITY_LIST_API_HIDDEN_FIELDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['concept_information',</span> <span class="pre">'definition',</span> <span class="pre">'implementation']</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.ENTITY_LIST_API_HIDDEN_FIELDS" title="Link to this definition">#</a></dt>
<dd><p>ENTITY_FILTER_PARAMS</p>
<dl class="simple">
<dt>&#64;desc Used to define:</dt><dd><ul class="simple">
<li><p>Filter types within the ‘filter’ field of a datatype to det. how to handle
specific parameters e.g. ‘source_by_brand’ which filters objects by brand type</p></li>
</ul>
</dd>
</dl>
<p>&#64;building Additional filters should be built such that:</p>
<blockquote>
<div><p>[key]: The name of the filter within the .filters property</p>
<blockquote>
<div><p>[filter]: (string) The name of the filter method within the DataTypeFilter found in filter_utils</p>
<dl>
<dt>[properties]: (dict/null) Any additional params/properties to be passed</dt><dd><p>as args (global, not field specific)</p>
</dd>
<dt>[field_properties] (dict/null): Params/Properties to be passed to the filter method</dt><dd><blockquote>
<div><p>based on which field was used to access the filter</p>
</div></blockquote>
<p>[field_name]: (dict) The field_name/properties to be passed as kwargs</p>
</dd>
<dt>[expected_params]: (dict): The params expected by this method when attempting to generate</dt><dd><p>filters</p>
</dd>
</dl>
</div></blockquote>
</div></blockquote>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.ENTITY_STATUS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">ENTITY_STATUS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/constants.html#ENTITY_STATUS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.constants.ENTITY_STATUS" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Status of an entity</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.ENTITY_STATUS.DRAFT">
<span class="sig-name descname"><span class="pre">DRAFT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.ENTITY_STATUS.DRAFT" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.ENTITY_STATUS.FINAL">
<span class="sig-name descname"><span class="pre">FINAL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.ENTITY_STATUS.FINAL" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.FETCH_REQUEST_HEADER">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">FETCH_REQUEST_HEADER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'XMLHttpRequest'</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.FETCH_REQUEST_HEADER" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>Entity render modifier(s)</dt><dd><p>Used by entity_renderer as defaults</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.FILTER_COMPONENTS">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">FILTER_COMPONENTS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'datetime':</span> <span class="pre">'datepicker',</span> <span class="pre">'enum':</span> <span class="pre">'checkbox',</span> <span class="pre">'int':</span> <span class="pre">'checkbox',</span> <span class="pre">'int_array':</span> <span class="pre">'checkbox'}</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.FILTER_COMPONENTS" title="Link to this definition">#</a></dt>
<dd><p>Threshold for layout count in single search pages (__gte)</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.FORM_METHODS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">FORM_METHODS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/constants.html#FORM_METHODS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.constants.FORM_METHODS" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Describes form method, i.e. to create or update an entity
Used by both template and view to modify behaviour</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.FORM_METHODS.CREATE">
<span class="sig-name descname"><span class="pre">CREATE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.FORM_METHODS.CREATE" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.FORM_METHODS.UPDATE">
<span class="sig-name descname"><span class="pre">UPDATE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.FORM_METHODS.UPDATE" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.GROUP_PERMISSIONS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">GROUP_PERMISSIONS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/constants.html#GROUP_PERMISSIONS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.constants.GROUP_PERMISSIONS" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Group permissions</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.GROUP_PERMISSIONS.EDIT">
<span class="sig-name descname"><span class="pre">EDIT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.GROUP_PERMISSIONS.EDIT" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.GROUP_PERMISSIONS.NONE">
<span class="sig-name descname"><span class="pre">NONE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.GROUP_PERMISSIONS.NONE" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.GROUP_PERMISSIONS.VIEW">
<span class="sig-name descname"><span class="pre">VIEW</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.GROUP_PERMISSIONS.VIEW" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.HISTORICAL_HIDDEN_FIELDS">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">HISTORICAL_HIDDEN_FIELDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['id',</span> <span class="pre">'history_id',</span> <span class="pre">'history_date',</span> <span class="pre">'history_change_reason',</span> <span class="pre">'history_type',</span> <span class="pre">'history_user']</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.HISTORICAL_HIDDEN_FIELDS" title="Link to this definition">#</a></dt>
<dd><p>Describes fields that should be stripped from api response</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.IterableMeta">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">IterableMeta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bases</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classdict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/constants.html#IterableMeta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.constants.IterableMeta" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">EnumMeta</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.IterableMeta.from_name">
<span class="sig-name descname"><span class="pre">from_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/constants.html#IterableMeta.from_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.constants.IterableMeta.from_name" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.MIN_SINGLE_SEARCH">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">MIN_SINGLE_SEARCH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.MIN_SINGLE_SEARCH" title="Link to this definition">#</a></dt>
<dd><p>Order by clauses for search</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.ORDER_BY">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">ORDER_BY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'1':</span> <span class="pre">{'clause':</span> <span class="pre">'id',</span> <span class="pre">'name':</span> <span class="pre">'Relevance',</span> <span class="pre">'order':</span> <span class="pre">'asc',</span> <span class="pre">'property':</span> <span class="pre">'id'},</span> <span class="pre">'2':</span> <span class="pre">{'clause':</span> <span class="pre">'created',</span> <span class="pre">'name':</span> <span class="pre">'Created</span> <span class="pre">(Asc)',</span> <span class="pre">'order':</span> <span class="pre">'asc',</span> <span class="pre">'property':</span> <span class="pre">'created'},</span> <span class="pre">'3':</span> <span class="pre">{'clause':</span> <span class="pre">'-created',</span> <span class="pre">'name':</span> <span class="pre">'Created</span> <span class="pre">(Desc)',</span> <span class="pre">'order':</span> <span class="pre">'desc',</span> <span class="pre">'property':</span> <span class="pre">'created'},</span> <span class="pre">'4':</span> <span class="pre">{'clause':</span> <span class="pre">'updated',</span> <span class="pre">'name':</span> <span class="pre">'Updated</span> <span class="pre">(Asc)',</span> <span class="pre">'order':</span> <span class="pre">'asc',</span> <span class="pre">'property':</span> <span class="pre">'updated'},</span> <span class="pre">'5':</span> <span class="pre">{'clause':</span> <span class="pre">'-updated',</span> <span class="pre">'name':</span> <span class="pre">'Updated</span> <span class="pre">(Desc)',</span> <span class="pre">'order':</span> <span class="pre">'desc',</span> <span class="pre">'property':</span> <span class="pre">'updated'}}</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.ORDER_BY" title="Link to this definition">#</a></dt>
<dd><p>Page result limits for search</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.OWNER_PERMISSIONS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">OWNER_PERMISSIONS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/constants.html#OWNER_PERMISSIONS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.constants.OWNER_PERMISSIONS" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Owner permissions</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.OWNER_PERMISSIONS.EDIT">
<span class="sig-name descname"><span class="pre">EDIT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.OWNER_PERMISSIONS.EDIT" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.OWNER_PERMISSIONS.NONE">
<span class="sig-name descname"><span class="pre">NONE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.OWNER_PERMISSIONS.NONE" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.OWNER_PERMISSIONS.VIEW">
<span class="sig-name descname"><span class="pre">VIEW</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.OWNER_PERMISSIONS.VIEW" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.PAGE_RESULTS_SIZE">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">PAGE_RESULTS_SIZE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'1':</span> <span class="pre">20,</span> <span class="pre">'2':</span> <span class="pre">50,</span> <span class="pre">'3':</span> <span class="pre">100}</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.PAGE_RESULTS_SIZE" title="Link to this definition">#</a></dt>
<dd><p>Entity creation related defaults</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.STRIPPED_FIELDS">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">STRIPPED_FIELDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['SearchVectorField']</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.STRIPPED_FIELDS" title="Link to this definition">#</a></dt>
<dd><p>Describes fields that should be stripped from historical objects</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.TAG_TYPE">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">TAG_TYPE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/constants.html#TAG_TYPE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.constants.TAG_TYPE" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Tag types used for differentiate Collections &amp; Tags
within the Tag table</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.TAG_TYPE.COLLECTION">
<span class="sig-name descname"><span class="pre">COLLECTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.TAG_TYPE.COLLECTION" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.TAG_TYPE.TAG">
<span class="sig-name descname"><span class="pre">TAG</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.TAG_TYPE.TAG" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.TypeStatus">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">TypeStatus</span></span><a class="reference internal" href="_modules/clinicalcode/entity_utils/constants.html#TypeStatus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.constants.TypeStatus" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Legacy type status - needs removal during cleanup</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.TypeStatus.Biomarker">
<span class="sig-name descname"><span class="pre">Biomarker</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.TypeStatus.Biomarker" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.TypeStatus.Disease">
<span class="sig-name descname"><span class="pre">Disease</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.TypeStatus.Disease" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.TypeStatus.Drug">
<span class="sig-name descname"><span class="pre">Drug</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.TypeStatus.Drug" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.TypeStatus.Lifestyle_risk_factor">
<span class="sig-name descname"><span class="pre">Lifestyle_risk_factor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.TypeStatus.Lifestyle_risk_factor" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.TypeStatus.Musculoskeletal">
<span class="sig-name descname"><span class="pre">Musculoskeletal</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.TypeStatus.Musculoskeletal" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.TypeStatus.Surgical_procedure">
<span class="sig-name descname"><span class="pre">Surgical_procedure</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.TypeStatus.Surgical_procedure" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.TypeStatus.Type_status">
<span class="sig-name descname"><span class="pre">Type_status</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">((0,</span> <span class="pre">'Disease</span> <span class="pre">or</span> <span class="pre">syndrome'),</span> <span class="pre">(1,</span> <span class="pre">'Biomarker'),</span> <span class="pre">(2,</span> <span class="pre">'Drug'),</span> <span class="pre">(3,</span> <span class="pre">'Lifestyle</span> <span class="pre">risk</span> <span class="pre">factor'),</span> <span class="pre">(4,</span> <span class="pre">'Musculoskeletal'),</span> <span class="pre">(5,</span> <span class="pre">'Surgical</span> <span class="pre">procedure'))</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.TypeStatus.Type_status" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.WORLD_ACCESS_PERMISSIONS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">WORLD_ACCESS_PERMISSIONS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/constants.html#WORLD_ACCESS_PERMISSIONS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.constants.WORLD_ACCESS_PERMISSIONS" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Everyone else permissions</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.WORLD_ACCESS_PERMISSIONS.NONE">
<span class="sig-name descname"><span class="pre">NONE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.WORLD_ACCESS_PERMISSIONS.NONE" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.WORLD_ACCESS_PERMISSIONS.VIEW">
<span class="sig-name descname"><span class="pre">VIEW</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.WORLD_ACCESS_PERMISSIONS.VIEW" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.constants.metadata">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.constants.</span></span><span class="sig-name descname"><span class="pre">metadata</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'author':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'description':</span> <span class="pre">'List</span> <span class="pre">of</span> <span class="pre">authors</span> <span class="pre">who</span> <span class="pre">contributed</span> <span class="pre">to</span> <span class="pre">this</span> <span class="pre">phenotype.',</span> <span class="pre">'field_type':</span> <span class="pre">'string_inputbox',</span> <span class="pre">'is_base_field':</span> <span class="pre">True,</span> <span class="pre">'title':</span> <span class="pre">'Author',</span> <span class="pre">'validation':</span> <span class="pre">{'mandatory':</span> <span class="pre">True,</span> <span class="pre">'type':</span> <span class="pre">'string'}},</span> <span class="pre">'brands':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'description':</span> <span class="pre">'The</span> <span class="pre">brand</span> <span class="pre">that</span> <span class="pre">this</span> <span class="pre">Phenotype</span> <span class="pre">is</span> <span class="pre">related</span> <span class="pre">to.',</span> <span class="pre">'field_type':</span> <span class="pre">'???',</span> <span class="pre">'title':</span> <span class="pre">'Brand',</span> <span class="pre">'validation':</span> <span class="pre">{'computed':</span> <span class="pre">True,</span> <span class="pre">'mandatory':</span> <span class="pre">False,</span> <span class="pre">'source':</span> <span class="pre">{'query':</span> <span class="pre">'id',</span> <span class="pre">'relative':</span> <span class="pre">'name',</span> <span class="pre">'table':</span> <span class="pre">'Brand'},</span> <span class="pre">'type':</span> <span class="pre">'int_array'}},</span> <span class="pre">'citation_requirements':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'description':</span> <span class="pre">'A</span> <span class="pre">request</span> <span class="pre">for</span> <span class="pre">how</span> <span class="pre">this</span> <span class="pre">phenotype</span> <span class="pre">is</span> <span class="pre">referenced</span> <span class="pre">if</span> <span class="pre">used</span> <span class="pre">in</span> <span class="pre">other</span> <span class="pre">work.',</span> <span class="pre">'field_type':</span> <span class="pre">'textarea_markdown',</span> <span class="pre">'is_base_field':</span> <span class="pre">True,</span> <span class="pre">'title':</span> <span class="pre">'Citation</span> <span class="pre">Requirements',</span> <span class="pre">'validation':</span> <span class="pre">{'mandatory':</span> <span class="pre">False,</span> <span class="pre">'type':</span> <span class="pre">'string'}},</span> <span class="pre">'collections':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'compute_statistics':</span> <span class="pre">True,</span> <span class="pre">'description':</span> <span class="pre">'List</span> <span class="pre">of</span> <span class="pre">content</span> <span class="pre">collections</span> <span class="pre">this</span> <span class="pre">phenotype</span> <span class="pre">belongs</span> <span class="pre">to.',</span> <span class="pre">'field_type':</span> <span class="pre">'collections',</span> <span class="pre">'is_base_field':</span> <span class="pre">True,</span> <span class="pre">'search':</span> <span class="pre">{'api':</span> <span class="pre">True,</span> <span class="pre">'filterable':</span> <span class="pre">True},</span> <span class="pre">'title':</span> <span class="pre">'Collections',</span> <span class="pre">'validation':</span> <span class="pre">{'mandatory':</span> <span class="pre">False,</span> <span class="pre">'source':</span> <span class="pre">{'filter':</span> <span class="pre">{'tag_type':</span> <span class="pre">2},</span> <span class="pre">'query':</span> <span class="pre">'id',</span> <span class="pre">'relative':</span> <span class="pre">'description',</span> <span class="pre">'table':</span> <span class="pre">'Tag'},</span> <span class="pre">'type':</span> <span class="pre">'int_array'}},</span> <span class="pre">'created':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'field_type':</span> <span class="pre">'???',</span> <span class="pre">'hide_on_create':</span> <span class="pre">True,</span> <span class="pre">'is_base_field':</span> <span class="pre">True,</span> <span class="pre">'search':</span> <span class="pre">{'filterable':</span> <span class="pre">True},</span> <span class="pre">'title':</span> <span class="pre">'Date',</span> <span class="pre">'validation':</span> <span class="pre">{'computed':</span> <span class="pre">True,</span> <span class="pre">'mandatory':</span> <span class="pre">True,</span> <span class="pre">'type':</span> <span class="pre">'datetime'}},</span> <span class="pre">'created_by':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'field_type':</span> <span class="pre">'???',</span> <span class="pre">'hide_on_create':</span> <span class="pre">True,</span> <span class="pre">'is_base_field':</span> <span class="pre">True,</span> <span class="pre">'requires_auth':</span> <span class="pre">True,</span> <span class="pre">'title':</span> <span class="pre">'Created</span> <span class="pre">By',</span> <span class="pre">'validation':</span> <span class="pre">{'computed':</span> <span class="pre">True,</span> <span class="pre">'mandatory':</span> <span class="pre">True,</span> <span class="pre">'type':</span> <span class="pre">'int'}},</span> <span class="pre">'definition':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'description':</span> <span class="pre">'An</span> <span class="pre">overview</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">phenotype.',</span> <span class="pre">'field_type':</span> <span class="pre">'textarea_markdown',</span> <span class="pre">'is_base_field':</span> <span class="pre">True,</span> <span class="pre">'title':</span> <span class="pre">'Definition',</span> <span class="pre">'validation':</span> <span class="pre">{'mandatory':</span> <span class="pre">False,</span> <span class="pre">'type':</span> <span class="pre">'string'}},</span> <span class="pre">'group':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'description':</span> <span class="pre">'The</span> <span class="pre">group</span> <span class="pre">that</span> <span class="pre">owns</span> <span class="pre">this</span> <span class="pre">phenotype</span> <span class="pre">for</span> <span class="pre">permissions</span> <span class="pre">purposes.',</span> <span class="pre">'field_type':</span> <span class="pre">'group_field',</span> <span class="pre">'is_base_field':</span> <span class="pre">True,</span> <span class="pre">'title':</span> <span class="pre">'Group',</span> <span class="pre">'validation':</span> <span class="pre">{'computed':</span> <span class="pre">True,</span> <span class="pre">'mandatory':</span> <span class="pre">False,</span> <span class="pre">'type':</span> <span class="pre">'int'}},</span> <span class="pre">'group_access':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'description':</span> <span class="pre">'Optionally</span> <span class="pre">enable</span> <span class="pre">this</span> <span class="pre">phenotype</span> <span class="pre">to</span> <span class="pre">be</span> <span class="pre">viewed</span> <span class="pre">or</span> <span class="pre">edited</span> <span class="pre">by</span> <span class="pre">the</span> <span class="pre">group.',</span> <span class="pre">'field_type':</span> <span class="pre">'access_field_editable',</span> <span class="pre">'is_base_field':</span> <span class="pre">True,</span> <span class="pre">'title':</span> <span class="pre">'Group</span> <span class="pre">Access',</span> <span class="pre">'validation':</span> <span class="pre">{'mandatory':</span> <span class="pre">True,</span> <span class="pre">'range':</span> <span class="pre">[1,</span> <span class="pre">3],</span> <span class="pre">'type':</span> <span class="pre">'int'}},</span> <span class="pre">'id':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'field_type':</span> <span class="pre">'id',</span> <span class="pre">'hide_on_create':</span> <span class="pre">True,</span> <span class="pre">'ignore':</span> <span class="pre">True,</span> <span class="pre">'title':</span> <span class="pre">'ID'},</span> <span class="pre">'implementation':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'description':</span> <span class="pre">'Information</span> <span class="pre">on</span> <span class="pre">how</span> <span class="pre">the</span> <span class="pre">phenotype</span> <span class="pre">is</span> <span class="pre">applied</span> <span class="pre">to</span> <span class="pre">data.',</span> <span class="pre">'field_type':</span> <span class="pre">'textarea_markdown',</span> <span class="pre">'is_base_field':</span> <span class="pre">True,</span> <span class="pre">'title':</span> <span class="pre">'Implementation',</span> <span class="pre">'validation':</span> <span class="pre">{'mandatory':</span> <span class="pre">False,</span> <span class="pre">'type':</span> <span class="pre">'string'}},</span> <span class="pre">'name':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'description':</span> <span class="pre">'Unsurprisingly,</span> <span class="pre">the</span> <span class="pre">name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">phenotype.',</span> <span class="pre">'field_type':</span> <span class="pre">'string_inputbox',</span> <span class="pre">'is_base_field':</span> <span class="pre">True,</span> <span class="pre">'title':</span> <span class="pre">'Name',</span> <span class="pre">'validation':</span> <span class="pre">{'mandatory':</span> <span class="pre">True,</span> <span class="pre">'type':</span> <span class="pre">'string'}},</span> <span class="pre">'publications':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'description':</span> <span class="pre">'Publication(s)</span> <span class="pre">where</span> <span class="pre">the</span> <span class="pre">phenotype</span> <span class="pre">was</span> <span class="pre">defined</span> <span class="pre">or</span> <span class="pre">has</span> <span class="pre">been</span> <span class="pre">used.',</span> <span class="pre">'field_type':</span> <span class="pre">'publications',</span> <span class="pre">'is_base_field':</span> <span class="pre">True,</span> <span class="pre">'title':</span> <span class="pre">'Publications',</span> <span class="pre">'validation':</span> <span class="pre">{'mandatory':</span> <span class="pre">False,</span> <span class="pre">'type':</span> <span class="pre">'publication'}},</span> <span class="pre">'tags':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'compute_statistics':</span> <span class="pre">True,</span> <span class="pre">'description':</span> <span class="pre">'Optional</span> <span class="pre">keywords</span> <span class="pre">helping</span> <span class="pre">to</span> <span class="pre">categorize</span> <span class="pre">this</span> <span class="pre">content.',</span> <span class="pre">'field_type':</span> <span class="pre">'tags',</span> <span class="pre">'is_base_field':</span> <span class="pre">True,</span> <span class="pre">'search':</span> <span class="pre">{'api':</span> <span class="pre">True,</span> <span class="pre">'filterable':</span> <span class="pre">True},</span> <span class="pre">'title':</span> <span class="pre">'Tags',</span> <span class="pre">'validation':</span> <span class="pre">{'mandatory':</span> <span class="pre">False,</span> <span class="pre">'source':</span> <span class="pre">{'filter':</span> <span class="pre">{'tag_type':</span> <span class="pre">1},</span> <span class="pre">'query':</span> <span class="pre">'id',</span> <span class="pre">'relative':</span> <span class="pre">'description',</span> <span class="pre">'table':</span> <span class="pre">'Tag'},</span> <span class="pre">'type':</span> <span class="pre">'int_array'}},</span> <span class="pre">'template':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'field_type':</span> <span class="pre">'???',</span> <span class="pre">'ignore':</span> <span class="pre">True,</span> <span class="pre">'search':</span> <span class="pre">{'filterable':</span> <span class="pre">True,</span> <span class="pre">'single_search_only':</span> <span class="pre">True},</span> <span class="pre">'title':</span> <span class="pre">'Type',</span> <span class="pre">'validation':</span> <span class="pre">{'computed':</span> <span class="pre">True,</span> <span class="pre">'mandatory':</span> <span class="pre">True,</span> <span class="pre">'source':</span> <span class="pre">{'query':</span> <span class="pre">'id',</span> <span class="pre">'relative':</span> <span class="pre">'name',</span> <span class="pre">'table':</span> <span class="pre">'Template'},</span> <span class="pre">'type':</span> <span class="pre">'int'}},</span> <span class="pre">'updated':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'field_type':</span> <span class="pre">'???',</span> <span class="pre">'hide_on_create':</span> <span class="pre">True,</span> <span class="pre">'is_base_field':</span> <span class="pre">True,</span> <span class="pre">'title':</span> <span class="pre">'Updated',</span> <span class="pre">'validation':</span> <span class="pre">{'computed':</span> <span class="pre">True,</span> <span class="pre">'mandatory':</span> <span class="pre">True,</span> <span class="pre">'type':</span> <span class="pre">'datetime'}},</span> <span class="pre">'updated_by':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'field_type':</span> <span class="pre">'???',</span> <span class="pre">'hide_on_create':</span> <span class="pre">True,</span> <span class="pre">'is_base_field':</span> <span class="pre">True,</span> <span class="pre">'requires_auth':</span> <span class="pre">True,</span> <span class="pre">'title':</span> <span class="pre">'Updated</span> <span class="pre">By',</span> <span class="pre">'validation':</span> <span class="pre">{'computed':</span> <span class="pre">True,</span> <span class="pre">'mandatory':</span> <span class="pre">True,</span> <span class="pre">'type':</span> <span class="pre">'int'}},</span> <span class="pre">'validation':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'field_type':</span> <span class="pre">'textarea_markdown',</span> <span class="pre">'is_base_field':</span> <span class="pre">True,</span> <span class="pre">'title':</span> <span class="pre">'Validation',</span> <span class="pre">'validation':</span> <span class="pre">{'mandatory':</span> <span class="pre">False,</span> <span class="pre">'type':</span> <span class="pre">'string'}},</span> <span class="pre">'world_access':</span> <span class="pre">{'active':</span> <span class="pre">True,</span> <span class="pre">'description':</span> <span class="pre">'Enables</span> <span class="pre">this</span> <span class="pre">phenotype</span> <span class="pre">to</span> <span class="pre">be</span> <span class="pre">viewed</span> <span class="pre">by</span> <span class="pre">all</span> <span class="pre">logged-in</span> <span class="pre">users</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">Library</span> <span class="pre">(does</span> <span class="pre">not</span> <span class="pre">make</span> <span class="pre">it</span> <span class="pre">public</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">web</span> <span class="pre">--</span> <span class="pre">use</span> <span class="pre">the</span> <span class="pre">Publish</span> <span class="pre">action</span> <span class="pre">for</span> <span class="pre">that).',</span> <span class="pre">'field_type':</span> <span class="pre">'access_field',</span> <span class="pre">'is_base_field':</span> <span class="pre">True,</span> <span class="pre">'title':</span> <span class="pre">'All</span> <span class="pre">authenticated</span> <span class="pre">users',</span> <span class="pre">'validation':</span> <span class="pre">{'mandatory':</span> <span class="pre">True,</span> <span class="pre">'range':</span> <span class="pre">[1,</span> <span class="pre">3],</span> <span class="pre">'type':</span> <span class="pre">'int'}}}</span></em><a class="headerlink" href="#clinicalcode.entity_utils.constants.metadata" title="Link to this definition">#</a></dt>
<dd><p>Describes the input and output presentation of common and dynamic fields
through components and modifiers</p>
</dd></dl>

</section>
<section id="module-clinicalcode.entity_utils.create_utils">
<span id="clinicalcode-entity-utils-create-utils-module"></span><h2>clinicalcode.entity_utils.create_utils module<a class="headerlink" href="#module-clinicalcode.entity_utils.create_utils" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.build_related_entities">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">build_related_entities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">packet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_dirty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#build_related_entities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.build_related_entities" title="Link to this definition">#</a></dt>
<dd><p>Used to build related entities, e.g. concepts, for entities</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request (RequestContext): the request context of the form
field (string): name of the field
field_data (dict): the associated template layout field
packet (*): the field data value
override_dirty (boolean): overrides the is_dirty check for entity creation
entity {GenericEntity: an associated entity, if applicable</p>
</dd>
<dt>Returns:</dt><dd><p>(boolean), (list|null) - success state, list of entity dicts (id, hid) created/updated, or null value is returned if this method fails</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.compute_brand_context">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">compute_brand_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#compute_brand_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.compute_brand_context" title="Link to this definition">#</a></dt>
<dd><p>Computes the brand context given the metadata of an entity,
where brand is computed by the RequestContext’s brand and its
given collections</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.create_or_update_entity_from_form">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">create_or_update_entity_from_form</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_dirty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#create_or_update_entity_from_form"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.create_or_update_entity_from_form" title="Link to this definition">#</a></dt>
<dd><p>Used to create or update entities - this method assumes you have
previously validated the content of the form using the validate_entity_form method</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request (RequestContext): the request context of the form
form (dict): a dict containing the validate_entity_form method result
override_dirty (boolean): overrides the is_dirty check for child entity creation</p>
</dd>
<dt>Returns:</dt><dd><p>(GenericEntity|null) - null value is returned if this method fails</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.get_createable_entities">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">get_createable_entities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#get_createable_entities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.get_createable_entities" title="Link to this definition">#</a></dt>
<dd><p>Used to retrieve information relating to the entities that can
be created and their associated templates</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.get_template_creation_data">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">get_template_creation_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#get_template_creation_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.get_template_creation_data" title="Link to this definition">#</a></dt>
<dd><p>Used to retrieve assoc. data values for specific keys, e.g.
concepts, in its expanded format for use with create/update pages</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.try_add_computed_fields">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">try_add_computed_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form_template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#try_add_computed_fields"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.try_add_computed_fields" title="Link to this definition">#</a></dt>
<dd><p>Checks to see if any of our fields have any computed data
that we need to collect from a child or related field</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.try_create_concept">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">try_create_concept</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#try_create_concept"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.try_create_concept" title="Link to this definition">#</a></dt>
<dd><p>Creates a concept, given the item data validated from the Phentoype builder form</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request (RequestContext): the request context of the form
concept_id (integer): the id of the concept
item (dict): the data computed from the concept validation method
entity {GenericEntity: an associated entity, if applicable</p>
</dd>
<dt>Returns:</dt><dd><p>(Concept()) - the resulting, created Concept entity</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.try_update_concept">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">try_update_concept</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#try_update_concept"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.try_update_concept" title="Link to this definition">#</a></dt>
<dd><p>Updates a concept, given the item data validated from the Phentoype builder form</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request {RequestContext}: the request context of the form
item {dict}: the data computed from the concept validation method
entity {GenericEntity: an associated entity, if applicable</p>
</dd>
<dt>Returns:</dt><dd><p>(Concept()) - the resulting, updated Concept entity</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.try_validate_entity">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">try_validate_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_history_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#try_validate_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.try_validate_entity" title="Link to this definition">#</a></dt>
<dd><p>Validates existence of an entity and whether the user has permissions to modify it</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.try_validate_sourced_value">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">try_validate_sourced_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#try_validate_sourced_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.try_validate_sourced_value" title="Link to this definition">#</a></dt>
<dd><p>Validates the query param based on its field type as defined by the template or metadata
by examining its source and its current datatype</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.validate_computed_field">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">validate_computed_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#validate_computed_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.validate_computed_field" title="Link to this definition">#</a></dt>
<dd><p>Computed fields, e.g. Groups, that can be computed based on RequestContext</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.validate_concept_form">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">validate_concept_form</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">form</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#validate_concept_form"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.validate_concept_form" title="Link to this definition">#</a></dt>
<dd><p>Validates a concept form</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.validate_entity_form">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">validate_entity_form</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#validate_entity_form"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.validate_entity_form" title="Link to this definition">#</a></dt>
<dd><p>Validates &amp; Cleans the entity create/update form</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request {RequestContext}: the request context of the form
content {dict}: a dict containing the form data submitted via POST
errors {list|null}: a list that is passed by reference to append error data</p>
</dd>
<dt>Returns:</dt><dd><p>{dict|null} - null value is returned if validation is not successful</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.validate_form_data_type">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">validate_form_data_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">form_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#validate_form_data_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.validate_form_data_type" title="Link to this definition">#</a></dt>
<dd><p>Validates the datatype of the form data</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.validate_form_entity">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">validate_form_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">form_entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form_method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#validate_form_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.validate_form_entity" title="Link to this definition">#</a></dt>
<dd><p>Validates the form’s entity, assuming an update form method was called</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.validate_form_method">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">validate_form_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">form_method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#validate_form_method"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.validate_form_method" title="Link to this definition">#</a></dt>
<dd><p>Validates the form method when updating or creating an object</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.validate_form_template">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">validate_form_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">form_template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#validate_form_template"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.validate_form_template" title="Link to this definition">#</a></dt>
<dd><p>Validates the template id and version given by a form</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.validate_metadata_value">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">validate_metadata_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#validate_metadata_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.validate_metadata_value" title="Link to this definition">#</a></dt>
<dd><p>Validates the form’s field value against the metadata fields</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.validate_related_entities">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">validate_related_entities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#validate_related_entities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.validate_related_entities" title="Link to this definition">#</a></dt>
<dd><p>Validates related entities, e.g. Concepts</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.validate_template_field">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">validate_template_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#validate_template_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.validate_template_field" title="Link to this definition">#</a></dt>
<dd><p>Validates whether this field applies to our current template</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.create_utils.validate_template_value">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.create_utils.</span></span><span class="sig-name descname"><span class="pre">validate_template_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form_template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/create_utils.html#validate_template_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.create_utils.validate_template_value" title="Link to this definition">#</a></dt>
<dd><p>Validates the form’s field value against the entity template</p>
</dd></dl>

</section>
<section id="module-clinicalcode.entity_utils.data_utils">
<span id="clinicalcode-entity-utils-data-utils-module"></span><h2>clinicalcode.entity_utils.data_utils module<a class="headerlink" href="#module-clinicalcode.entity_utils.data_utils" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.data_utils.try_find_duplicates">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.data_utils.</span></span><span class="sig-name descname"><span class="pre">try_find_duplicates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ID'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'NAME'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_similarity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/data_utils.html#try_find_duplicates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.data_utils.try_find_duplicates" title="Link to this definition">#</a></dt>
<dd><p>[!] Note: The column defined by field_name must be a string-like datatype</p>
<p>Compares rows in a table, given its pk field name, and the comparator field</p>
<dl>
<dt>Args:</dt><dd><p>model (django.models.Model): The model that will be examined</p>
<p>pk_name (string): The name of the model’s primary key field</p>
<p>field_name (string): The name of the model’s field that we want to compare</p>
<p>min_similarity (number): Limits results where similarity &lt; min_similarity</p>
<p>drop_ext (boolean): Whether to drop the extension after use</p>
</dd>
<dt>Returns:</dt><dd><ul class="simple">
<li><p>Returns a (list) containing the rows that may be duplicated</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-clinicalcode.entity_utils.email_utils">
<span id="clinicalcode-entity-utils-email-utils-module"></span><h2>clinicalcode.entity_utils.email_utils module<a class="headerlink" href="#module-clinicalcode.entity_utils.email_utils" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.email_utils.attach_image_to_email">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.email_utils.</span></span><span class="sig-name descname"><span class="pre">attach_image_to_email</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/email_utils.html#attach_image_to_email"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.email_utils.attach_image_to_email" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.email_utils.get_scheduled_email_to_send">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.email_utils.</span></span><span class="sig-name descname"><span class="pre">get_scheduled_email_to_send</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/email_utils.html#get_scheduled_email_to_send"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.email_utils.get_scheduled_email_to_send" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.email_utils.send_review_email_generic">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.email_utils.</span></span><span class="sig-name descname"><span class="pre">send_review_email_generic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message_from_reviewer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/email_utils.html#send_review_email_generic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.email_utils.send_review_email_generic" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</section>
<section id="module-clinicalcode.entity_utils.entity_db_utils">
<span id="clinicalcode-entity-utils-entity-db-utils-module"></span><h2>clinicalcode.entity_utils.entity_db_utils module<a class="headerlink" href="#module-clinicalcode.entity_utils.entity_db_utils" title="Link to this heading">#</a></h2>
<p>————————————————————————– generic_entity_db_utils</p>
<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.entity_db_utils.chk_valid_id">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.entity_db_utils.</span></span><span class="sig-name descname"><span class="pre">chk_valid_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chk_permission</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/entity_db_utils.html#chk_valid_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.entity_db_utils.chk_valid_id" title="Link to this definition">#</a></dt>
<dd><p>check for valid id of Concepts / Phenotypes / working sets
(accepts both integers and with prefixes ‘C/PH/WS’)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.entity_db_utils.getConceptBrands">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.entity_db_utils.</span></span><span class="sig-name descname"><span class="pre">getConceptBrands</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concept_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/entity_db_utils.html#getConceptBrands"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.entity_db_utils.getConceptBrands" title="Link to this definition">#</a></dt>
<dd><p>return concept brands</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.entity_db_utils.get_base_template_definition">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.entity_db_utils.</span></span><span class="sig-name descname"><span class="pre">get_base_template_definition</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/entity_db_utils.html#get_base_template_definition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.entity_db_utils.get_base_template_definition" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.entity_db_utils.get_brand_collection_ids">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.entity_db_utils.</span></span><span class="sig-name descname"><span class="pre">get_brand_collection_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">brand_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/entity_db_utils.html#get_brand_collection_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.entity_db_utils.get_brand_collection_ids" title="Link to this definition">#</a></dt>
<dd><p>returns list of collections (tags) ids associated with the brand</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.entity_db_utils.get_can_edit_subquery">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.entity_db_utils.</span></span><span class="sig-name descname"><span class="pre">get_can_edit_subquery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/entity_db_utils.html#get_can_edit_subquery"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.entity_db_utils.get_can_edit_subquery" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.entity_db_utils.get_concept_ids_from_phenotypes">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.entity_db_utils.</span></span><span class="sig-name descname"><span class="pre">get_concept_ids_from_phenotypes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_id_or_history_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'both'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/entity_db_utils.html#get_concept_ids_from_phenotypes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.entity_db_utils.get_concept_ids_from_phenotypes" title="Link to this definition">#</a></dt>
<dd><p>return list of visible concept ids/versions 
- data: list of dic is the output of  get_visible_live_or_published_phenotype_versions()</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.entity_db_utils.get_concept_ids_versions_of_historical_phenotype">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.entity_db_utils.</span></span><span class="sig-name descname"><span class="pre">get_concept_ids_versions_of_historical_phenotype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phenotype_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phenotype_history_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/entity_db_utils.html#get_concept_ids_versions_of_historical_phenotype"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.entity_db_utils.get_concept_ids_versions_of_historical_phenotype" title="Link to this definition">#</a></dt>
<dd><p>get concept_information of the specified phenotype 
- from a specific version</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.entity_db_utils.get_entity_full_template_data">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.entity_db_utils.</span></span><span class="sig-name descname"><span class="pre">get_entity_full_template_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_record</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_queryset_as_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/entity_db_utils.html#get_entity_full_template_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.entity_db_utils.get_entity_full_template_data" title="Link to this definition">#</a></dt>
<dd><p>return the entity full data based on the template,
Add a ‘data’ key which has all data based on the template ordered</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.entity_db_utils.get_historical_entity">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.entity_db_utils.</span></span><span class="sig-name descname"><span class="pre">get_historical_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">history_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">highlight_result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_highlight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_template_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_queryset_as_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/entity_db_utils.html#get_historical_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.entity_db_utils.get_historical_entity" title="Link to this definition">#</a></dt>
<dd><p>Get historical generic entity based on a history id</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.entity_db_utils.get_historical_entityXXX">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.entity_db_utils.</span></span><span class="sig-name descname"><span class="pre">get_historical_entityXXX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">history_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">highlight_result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_highlight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_template_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_queryset_as_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/entity_db_utils.html#get_historical_entityXXX"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.entity_db_utils.get_historical_entityXXX" title="Link to this definition">#</a></dt>
<dd><p>Get historical generic entity based on a history id</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.entity_db_utils.get_list_of_visible_entity_ids">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.entity_db_utils.</span></span><span class="sig-name descname"><span class="pre">get_list_of_visible_entity_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_id_or_history_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'both'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/entity_db_utils.html#get_list_of_visible_entity_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.entity_db_utils.get_list_of_visible_entity_ids" title="Link to this definition">#</a></dt>
<dd><p>return list of visible concept/(or phenotypes) ids/versions 
- data: list of dic is the output of  get_visible_live_or_published_phenotype_versions()</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.entity_db_utils.get_order_from_parameter">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.entity_db_utils.</span></span><span class="sig-name descname"><span class="pre">get_order_from_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/entity_db_utils.html#get_order_from_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.entity_db_utils.get_order_from_parameter" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.entity_db_utils.get_phenoflow_url">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.entity_db_utils.</span></span><span class="sig-name descname"><span class="pre">get_phenoflow_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pheno_flow_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/entity_db_utils.html#get_phenoflow_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.entity_db_utils.get_phenoflow_url" title="Link to this definition">#</a></dt>
<dd><p>return phenoflow_url combined with the id</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.entity_db_utils.get_q_highlight">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.entity_db_utils.</span></span><span class="sig-name descname"><span class="pre">get_q_highlight</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/entity_db_utils.html#get_q_highlight"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.entity_db_utils.get_q_highlight" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.entity_db_utils.get_template_definition">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.entity_db_utils.</span></span><span class="sig-name descname"><span class="pre">get_template_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_version</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/entity_db_utils.html#get_template_definition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.entity_db_utils.get_template_definition" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.entity_db_utils.get_visible_live_or_published_generic_entity_versions">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.entity_db_utils.</span></span><span class="sig-name descname"><span class="pre">get_visible_live_or_published_generic_entity_versions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_live_and_or_published_ver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">author</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id_to_exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">approved_status</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_deleted</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_cond</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_top_version_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_brand</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_get_live_and_or_published_ver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_name_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">highlight_result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_not_use_FTS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_range_cond</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/entity_db_utils.html#get_visible_live_or_published_generic_entity_versions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.entity_db_utils.get_visible_live_or_published_generic_entity_versions" title="Link to this definition">#</a></dt>
<dd><p>Get all visible live or published entity versions 
- return all columns</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.entity_db_utils.is_referred_from_search_page">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.entity_db_utils.</span></span><span class="sig-name descname"><span class="pre">is_referred_from_search_page</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/entity_db_utils.html#is_referred_from_search_page"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.entity_db_utils.is_referred_from_search_page" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</section>
<section id="module-clinicalcode.entity_utils.filter_utils">
<span id="clinicalcode-entity-utils-filter-utils-module"></span><h2>clinicalcode.entity_utils.filter_utils module<a class="headerlink" href="#module-clinicalcode.entity_utils.filter_utils" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.filter_utils.DataTypeFilters">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.filter_utils.</span></span><span class="sig-name descname"><span class="pre">DataTypeFilters</span></span><a class="reference internal" href="_modules/clinicalcode/entity_utils/filter_utils.html#DataTypeFilters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.filter_utils.DataTypeFilters" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class Utilities</p>
<dl class="py method">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.filter_utils.DataTypeFilters.brand_filter">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">brand_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/filter_utils.html#DataTypeFilters.brand_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.filter_utils.DataTypeFilters.brand_filter" title="Link to this definition">#</a></dt>
<dd><p>&#64;desc Generates the brand-related filter query</p>
<dl>
<dt>Args:</dt><dd><p>request (RequestContext): the request context during this execution</p>
<p>column_name (string): the name of the column to filter by</p>
</dd>
<dt>Result:</dt><dd><p>Either (a) a null result or (b) the generated filter query</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.filter_utils.DataTypeFilters.test_params">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expected_params</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/filter_utils.html#DataTypeFilters.test_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.filter_utils.DataTypeFilters.test_params" title="Link to this definition">#</a></dt>
<dd><p>&#64;desc Tests whether kwargs incl. the expected params</p>
<dl>
<dt>Args:</dt><dd><p>expected_params (dict): the expected parameters</p>
<p><a href="#id1"><span class="problematic" id="id2">**</span></a>kwargs: the passed parameters</p>
</dd>
<dt>Returns:</dt><dd><p>(boolean) that reflects whether the kwargs incl. the expected
parameters</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.filter_utils.DataTypeFilters.try_generate_filter">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">try_generate_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">desired_filter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/filter_utils.html#DataTypeFilters.try_generate_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.filter_utils.DataTypeFilters.try_generate_filter" title="Link to this definition">#</a></dt>
<dd><dl>
<dt>&#64;desc Tries to generate the filter query if its method is available within this class</dt><dd><p>and if the expected parameters are met</p>
</dd>
<dt>Args:</dt><dd><p>desired_filter (string): the name of the desired filter method</p>
<p>expected_params (dict): the expected parameters</p>
<dl class="simple">
<dt><a href="#id3"><span class="problematic" id="id4">**</span></a>kwargs: the parameters that were provided by the calling fn and any provided</dt><dd><p>by ENTITY_FILTER_PARAMS[(%s)].PROPERTIES</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>Either (a) a null result if it fails or (b) the generated filter query</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.filter_utils.is_class_method">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.filter_utils.</span></span><span class="sig-name descname"><span class="pre">is_class_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_class</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/filter_utils.html#is_class_method"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.filter_utils.is_class_method" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>&#64;desc determines whether a method is:</dt><dd><ol class="arabic simple">
<li><p>A class method</p></li>
<li><p>A class method of a specific class</p></li>
</ol>
</dd>
<dt>Args:</dt><dd><p>method (fn): a class method / function
expected_class (class): a class</p>
</dd>
<dt>Returns:</dt><dd><p>(boolean) that reflects whether the fn is a method and method
of a specific class</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-clinicalcode.entity_utils.gen_utils">
<span id="clinicalcode-entity-utils-gen-utils-module"></span><h2>clinicalcode.entity_utils.gen_utils module<a class="headerlink" href="#module-clinicalcode.entity_utils.gen_utils" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.ModelEncoder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">ModelEncoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skipkeys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure_ascii</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_circular</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separators</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#ModelEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.ModelEncoder" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">JSONEncoder</span></code></p>
<p>Encoder class to override behaviour of the JSON encoder to allow
encoding of datetime objects - used to JSONify instances of a model</p>
<dl class="py method">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.ModelEncoder.default">
<span class="sig-name descname"><span class="pre">default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#ModelEncoder.default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.ModelEncoder.default" title="Link to this definition">#</a></dt>
<dd><p>Implement this method in a subclass such that it returns
a serializable object for <code class="docutils literal notranslate"><span class="pre">o</span></code>, or calls the base implementation
(to raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>).</p>
<p>For example, to support arbitrary iterators, you could
implement default like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="c1"># Let the base class default method raise the TypeError</span>
    <span class="k">return</span> <span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.clean_str_as_db_col_name">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">clean_str_as_db_col_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">txt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#clean_str_as_db_col_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.clean_str_as_db_col_name" title="Link to this definition">#</a></dt>
<dd><p>Legacy method from ./utils.py</p>
<dl class="simple">
<dt>Desc:</dt><dd><ul class="simple">
<li><p>“Clean string to be valid column name”</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.decode_uri_parameter">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">decode_uri_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#decode_uri_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.decode_uri_parameter" title="Link to this definition">#</a></dt>
<dd><p>Decodes an ecoded URI parameter e.g. ‘wildcard:Cd+’ encoded as ‘wildcard%3AC%5Cd%2B’</p>
<dl class="simple">
<dt>Args:</dt><dd><p>value (string): the value to decode
default (*): the default value to return if this method fails</p>
</dd>
<dt>Returns:</dt><dd><p>The decoded URI component</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.get_request_body">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">get_request_body</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#get_request_body"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.get_request_body" title="Link to this definition">#</a></dt>
<dd><p>Decodes the body of a request and attempts to load it as JSON</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.get_start_and_end_dates">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">get_start_and_end_dates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">daterange</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#get_start_and_end_dates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.get_start_and_end_dates" title="Link to this definition">#</a></dt>
<dd><p>Sorts a date range to [min, max] and sets their timepoints to the [start] and [end] of the day respectively</p>
<dl class="simple">
<dt>Args:</dt><dd><p>daterange (list[string]): List of dates as strings (size of 2)</p>
</dd>
<dt>Returns:</dt><dd><p>A sorted (list) of datetime objects, combined with their respective start and end times</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.handle_fetch_request">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">handle_fetch_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#handle_fetch_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.handle_fetch_request" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>&#64;desc Parses the X-Target header to determine which GET method</dt><dd><p>to respond with</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.is_datetime">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">is_datetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#is_datetime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.is_datetime" title="Link to this definition">#</a></dt>
<dd><p>Legacy method from ./utils.py</p>
<dl class="simple">
<dt>Desc:</dt><dd><ul class="simple">
<li><p>“Checks if a parameter can be parsed as a datetime”</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.is_empty_string">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">is_empty_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#is_empty_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.is_empty_string" title="Link to this definition">#</a></dt>
<dd><p>Checks whether a string is empty or contains only spaces</p>
<dl class="simple">
<dt>Args:</dt><dd><p>value (string): the value to check</p>
</dd>
<dt>Returns:</dt><dd><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.is_fetch_request">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">is_fetch_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#is_fetch_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.is_fetch_request" title="Link to this definition">#</a></dt>
<dd><p>Helper method to determine if the HTTPRequest was made with a header that matches
the FETCH-REQUEST-HEADER</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request (WSGIRequest): the request object</p>
</dd>
<dt>Returns:</dt><dd><p>Boolean that reflects whether this request was made with the fetch header</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.is_float">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">is_float</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#is_float"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.is_float" title="Link to this definition">#</a></dt>
<dd><p>Legacy method from ./utils.py</p>
<dl class="simple">
<dt>Desc:</dt><dd><ul class="simple">
<li><p>“Checks if a param can be parsed as a float”</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.is_int">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">is_int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#is_int"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.is_int" title="Link to this definition">#</a></dt>
<dd><p>Legacy method from ./utils.py</p>
<dl class="simple">
<dt>Desc:</dt><dd><ul class="simple">
<li><p>“Checks if a number is an integer”</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.is_valid_uuid">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">is_valid_uuid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#is_valid_uuid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.is_valid_uuid" title="Link to this definition">#</a></dt>
<dd><p>Validates value as a UUID</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.jsonify_response">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">jsonify_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#jsonify_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.jsonify_response" title="Link to this definition">#</a></dt>
<dd><p>Creates a JSON response with the given status</p>
<dl class="simple">
<dt>Args:</dt><dd><p>code (integer): the status code
status (string): the status response
message (string): the message response</p>
</dd>
<dt>Returns:</dt><dd><p>A JSONResponse that matches the kwargs</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.measure_perf">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">measure_perf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#measure_perf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.measure_perf" title="Link to this definition">#</a></dt>
<dd><p>Helper function to estimate view execution time</p>
<p>Ref &#64; <a class="reference external" href="https://stackoverflow.com/posts/62522469/revisions">https://stackoverflow.com/posts/62522469/revisions</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.parse_as_int_list">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">parse_as_int_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#parse_as_int_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.parse_as_int_list" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.parse_date">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">parse_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#parse_date"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.parse_date" title="Link to this definition">#</a></dt>
<dd><p>Attempts to parse a date from a string value, if it fails to do so, returns the default value</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.parse_int">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">parse_int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#parse_int"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.parse_int" title="Link to this definition">#</a></dt>
<dd><p>Attempts to parse an int from a value, if it fails to do so, returns the default value</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.try_get_param">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">try_get_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'GET'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#try_get_param"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.try_get_param" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>Attempts to get a param from a request by key</dt><dd><ul class="simple">
<li><p>If a default is passed and the key isn’t present, the default is returned</p></li>
<li><p>If the key is present, and the default is non-null, it tries to parse the value as the default’s type</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.try_match_pattern">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">try_match_pattern</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#try_match_pattern"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.try_match_pattern" title="Link to this definition">#</a></dt>
<dd><p>Tries to match a string by a pattern</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.try_parse_form">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">try_parse_form</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#try_parse_form"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.try_parse_form" title="Link to this definition">#</a></dt>
<dd><p>Attempts to parse multipart/form-data from the request body</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.gen_utils.try_value_as_type">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.gen_utils.</span></span><span class="sig-name descname"><span class="pre">try_value_as_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/gen_utils.html#try_value_as_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.gen_utils.try_value_as_type" title="Link to this definition">#</a></dt>
<dd><p>Tries to parse a value as a given type, otherwise returns default</p>
</dd></dl>

</section>
<section id="module-clinicalcode.entity_utils.model_utils">
<span id="clinicalcode-entity-utils-model-utils-module"></span><h2>clinicalcode.entity_utils.model_utils module<a class="headerlink" href="#module-clinicalcode.entity_utils.model_utils" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.model_utils.append_coding_system_data">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.model_utils.</span></span><span class="sig-name descname"><span class="pre">append_coding_system_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">systems</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/model_utils.html#append_coding_system_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.model_utils.append_coding_system_data" title="Link to this definition">#</a></dt>
<dd><p>Appends the number of available codes within a Coding System’s
codelist as well as whether it is searchable</p>
<blockquote>
<div><ul class="simple">
<li><p>This is used primarily for the create/update page to determine
whether a search rule is applicable</p></li>
</ul>
</div></blockquote>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>systems (list of dicts) A list of dicts that contains the coding systems of interest</dt><dd><p>e.g. {name: (str), value: (int)} where value is the pk</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>A list of dicts that has the number of codes/searchable status appended,
as defined by their code reference tables</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.model_utils.get_brand_collection_ids">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.model_utils.</span></span><span class="sig-name descname"><span class="pre">get_brand_collection_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">brand_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/model_utils.html#get_brand_collection_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.model_utils.get_brand_collection_ids" title="Link to this definition">#</a></dt>
<dd><p>Returns list of collections (tags) ids associated with the brand</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.model_utils.get_coding_system_details">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.model_utils.</span></span><span class="sig-name descname"><span class="pre">get_coding_system_details</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coding_system</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/model_utils.html#get_coding_system_details"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.model_utils.get_coding_system_details" title="Link to this definition">#</a></dt>
<dd><p>Returns a dict that describes a coding system given that
the coding_system parameter passed is either an obj or an int
that references a coding_system by its codingsystem_id</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.model_utils.get_entity_approval_status">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.model_utils.</span></span><span class="sig-name descname"><span class="pre">get_entity_approval_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">historical_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/model_utils.html#get_entity_approval_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.model_utils.get_entity_approval_status" title="Link to this definition">#</a></dt>
<dd><p>Gets the entity’s approval status, given an entity id and historical id</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.model_utils.get_entity_id">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.model_utils.</span></span><span class="sig-name descname"><span class="pre">get_entity_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">primary_key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/model_utils.html#get_entity_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.model_utils.get_entity_id" title="Link to this definition">#</a></dt>
<dd><p>Splits an entity’s varchar primary key into its numerical component</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.model_utils.get_tag_attribute">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.model_utils.</span></span><span class="sig-name descname"><span class="pre">get_tag_attribute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/model_utils.html#get_tag_attribute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.model_utils.get_tag_attribute" title="Link to this definition">#</a></dt>
<dd><p>Returns a dict that describes a tag given its id and type</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.model_utils.get_userdata_details">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.model_utils.</span></span><span class="sig-name descname"><span class="pre">get_userdata_details</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/model_utils.html#get_userdata_details"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.model_utils.get_userdata_details" title="Link to this definition">#</a></dt>
<dd><p>Attempts to return a dict that describes a userdata field e.g. a user, or a group
in a human readable format</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.model_utils.is_legacy_entity">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.model_utils.</span></span><span class="sig-name descname"><span class="pre">is_legacy_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_history_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/model_utils.html#is_legacy_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.model_utils.is_legacy_entity" title="Link to this definition">#</a></dt>
<dd><p>Checks whether this entity_id and entity_history_id match the latest record
to determine whether a historical entity is legacy or not</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.model_utils.jsonify_object">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.model_utils.</span></span><span class="sig-name descname"><span class="pre">jsonify_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_userdata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strip_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strippable_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dump</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/model_utils.html#jsonify_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.model_utils.jsonify_object" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>JSONifies/Dictifies instance of a model</dt><dd><ul class="simple">
<li><p>removes userdata related data for safe usage within template</p></li>
<li><p>removes specific fields that are unrelated to templates e.g. SearchVectorField</p></li>
<li><p>able to strip fields from a model, given a list of field names to strip</p></li>
<li><p>able to dump to json if requested</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.model_utils.modify_entity_change_reason">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.model_utils.</span></span><span class="sig-name descname"><span class="pre">modify_entity_change_reason</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reason</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/model_utils.html#modify_entity_change_reason"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.model_utils.modify_entity_change_reason" title="Link to this definition">#</a></dt>
<dd><p>Modify an entity’s HistoricalRecord to reflect the change reason on update</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.model_utils.try_get_brand">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.model_utils.</span></span><span class="sig-name descname"><span class="pre">try_get_brand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/model_utils.html#try_get_brand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.model_utils.try_get_brand" title="Link to this definition">#</a></dt>
<dd><p>Safely get the Brand instance from the RequestContext</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.model_utils.try_get_entity_history">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.model_utils.</span></span><span class="sig-name descname"><span class="pre">try_get_entity_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">history_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/model_utils.html#try_get_entity_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.model_utils.try_get_entity_history" title="Link to this definition">#</a></dt>
<dd><p>Safely attempts to get an entity’s historical record given an entity
and a history id</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.model_utils.try_get_instance">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.model_utils.</span></span><span class="sig-name descname"><span class="pre">try_get_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/model_utils.html#try_get_instance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.model_utils.try_get_instance" title="Link to this definition">#</a></dt>
<dd><p>Safely attempts to get an instance</p>
</dd></dl>

</section>
<section id="module-clinicalcode.entity_utils.permission_utils">
<span id="clinicalcode-entity-utils-permission-utils-module"></span><h2>clinicalcode.entity_utils.permission_utils module<a class="headerlink" href="#module-clinicalcode.entity_utils.permission_utils" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.HasAccessToViewGenericEntityCheckMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">HasAccessToViewGenericEntityCheckMixin</span></span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#HasAccessToViewGenericEntityCheckMixin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.HasAccessToViewGenericEntityCheckMixin" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Mixin to check if user has view access to a working set
this mixin is used within class based views and can be overridden</p>
<dl class="py method">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.HasAccessToViewGenericEntityCheckMixin.dispatch">
<span class="sig-name descname"><span class="pre">dispatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#HasAccessToViewGenericEntityCheckMixin.dispatch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.HasAccessToViewGenericEntityCheckMixin.dispatch" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.allowed_to_create">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">allowed_to_create</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#allowed_to_create"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.allowed_to_create" title="Link to this definition">#</a></dt>
<dd><p>Permit creation unless we have a READ-ONLY application.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.allowed_to_edit">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">allowed_to_edit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#allowed_to_edit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.allowed_to_edit" title="Link to this definition">#</a></dt>
<dd><p>Legacy method from ./permissions.py for set_class</p>
<dl>
<dt>Desc:</dt><dd><dl>
<dt>Permit editing access if:</dt><dd><ul class="simple">
<li><p>user is a super-user or the OWNER</p></li>
</ul>
<p>OR;
- editing is permitted to EVERYONE
OR;
- editing is permitted to a GROUP that the user belongs to</p>
</dd>
<dt>but NOT if:</dt><dd><ul class="simple">
<li><p>the application is configured as READ-ONLY.</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
<p>(skip this for now)(The object must not be marked as deleted - even for superuser)
–
user will be read from request.user unless given directly via param: user</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.allowed_to_permit">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">allowed_to_permit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#allowed_to_permit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.allowed_to_permit" title="Link to this definition">#</a></dt>
<dd><p>The ability to change the owner of an entity remains with the owner and
not with those granted editing permission. And with superusers to get
us out of trouble, when necessary.</p>
<dl class="simple">
<dt>Allow user to change permissions if:</dt><dd><p>1. user is a super-user
OR
2. user owns the object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.can_user_edit_entity">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">can_user_edit_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_history_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#can_user_edit_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.can_user_edit_entity" title="Link to this definition">#</a></dt>
<dd><p>Checks whether a user has the permissions to modify an entity</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request (RequestContext): the HTTPRequest
entity_id (number): The entity ID of interest
entity_history_id (number) (optional): The entity’s historical id of interest</p>
</dd>
<dt>Returns:</dt><dd><p>A boolean value reflecting whether the user is able to modify an entity</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.can_user_view_concept">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">can_user_view_concept</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">historical_concept</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_permissions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[GROUP_PERMISSIONS.VIEW,</span> <span class="pre">GROUP_PERMISSIONS.EDIT]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#can_user_view_concept"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.can_user_view_concept" title="Link to this definition">#</a></dt>
<dd><p>Checks whether a user has the permissions to view a concept</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request (RequestContext): the HTTPRequest
historical_concept (HistoricalConcept): The concept of interest
group_permissions (list): A list of which group permissions to consider</p>
</dd>
<dt>Returns:</dt><dd><p>A boolean value reflecting whether the user is able to view a concept</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.can_user_view_entity">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">can_user_view_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_history_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#can_user_view_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.can_user_view_entity" title="Link to this definition">#</a></dt>
<dd><p>Checks whether a user has the permissions to view an entity</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request (RequestContext): the HTTPRequest
entity_id (number): The entity ID of interest
entity_history_id (number) (optional): The entity’s historical id of interest</p>
</dd>
<dt>Returns:</dt><dd><p>A boolean value reflecting whether the user is able to view an entity</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.check_brand_access">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">check_brand_access</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_published</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_history_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#check_brand_access"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.check_brand_access" title="Link to this definition">#</a></dt>
<dd><p>Checks whether an entity is accessible for the request brand,
if the entity is published the accessibility via is_brand_accessible() will be ignored</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.check_if_published">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">check_if_published</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_history_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#check_if_published"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.check_if_published" title="Link to this definition">#</a></dt>
<dd><p>[!] Note: Legacy method from ./permissions.py</p>
<blockquote>
<div><p>Updated to only check GenericEntity since Phenotype/WorkingSet
no longer exists in the current application</p>
</div></blockquote>
<p>&#64;desc Check if an entity version is published</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.get_accessible_concepts">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">get_accessible_concepts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_permissions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[GROUP_PERMISSIONS.VIEW,</span> <span class="pre">GROUP_PERMISSIONS.EDIT]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#get_accessible_concepts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.get_accessible_concepts" title="Link to this definition">#</a></dt>
<dd><p>Tries to get all the concepts that are accessible to a specific user</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request (RequestContext): the HTTPRequest
group_permissions (list): A list of which group permissions to consider</p>
</dd>
<dt>Returns:</dt><dd><p>List of accessible concepts</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.get_accessible_entities">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">get_accessible_entities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consider_user_perms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_deleted</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[APPROVAL_STATUS.APPROVED]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_permissions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[GROUP_PERMISSIONS.VIEW,</span> <span class="pre">GROUP_PERMISSIONS.EDIT]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consider_brand</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#get_accessible_entities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.get_accessible_entities" title="Link to this definition">#</a></dt>
<dd><p>Tries to get all the entities that are accessible to a specific user</p>
<dl class="simple">
<dt>Args:</dt><dd><p>consider_user_perms (boolean): Whether to consider user perms i.e. superuser, moderation status etc
only_deleted (boolean): Whether to incl/excl deleted entities
status (list): A list of publication statuses to consider
group_permissions (list): A list of which group permissions to consider
consider_brand (boolean): Whether to consider the request Brand (only applies to Moderators, Non-Auth’d and Auth’d accounts)</p>
</dd>
<dt>Returns:</dt><dd><p>List of accessible entities</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.get_editable_entities">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">get_editable_entities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_deleted</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consider_brand</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#get_editable_entities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.get_editable_entities" title="Link to this definition">#</a></dt>
<dd><p>Tries to get all the entities that are editable by a specific user</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request (RequestContext): HTTP context
only_deleted (boolean): Whether to only show deleted phenotypes or not</p>
</dd>
<dt>Returns:</dt><dd><p>List of all editable entities</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.get_latest_concept_historical_id">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">get_latest_concept_historical_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#get_latest_concept_historical_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.get_latest_concept_historical_id" title="Link to this definition">#</a></dt>
<dd><p>Gets the latest concept history id for a given concept
and user, given the user has the permissions to access that
particular concept</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.get_latest_entity_historical_id">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">get_latest_entity_historical_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#get_latest_entity_historical_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.get_latest_entity_historical_id" title="Link to this definition">#</a></dt>
<dd><p>Gets the latest entity history id for a given entity
and user, given the user has the permissions to access that
particular entity</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.get_latest_entity_published">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">get_latest_entity_published</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#get_latest_entity_published"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.get_latest_entity_published" title="Link to this definition">#</a></dt>
<dd><p>Gets latest published entity given an entity id</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.get_latest_publicly_accessible_concept">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">get_latest_publicly_accessible_concept</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concept_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#get_latest_publicly_accessible_concept"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.get_latest_publicly_accessible_concept" title="Link to this definition">#</a></dt>
<dd><p>Finds the latest publicly accessible published concept</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>HistoricalConcept (obj) that is accessible by the user</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.get_latest_published_version">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">get_latest_published_version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#get_latest_published_version"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.get_latest_published_version" title="Link to this definition">#</a></dt>
<dd><p>[!] Note: Legacy method from ./permissions.py</p>
<blockquote>
<div><p>Updated to only check GenericEntity since Phenotype/WorkingSet
no longer exists in the current application</p>
</div></blockquote>
<p>Get latest published version</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.get_moderation_entities">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">get_moderation_entities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#get_moderation_entities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.get_moderation_entities" title="Link to this definition">#</a></dt>
<dd><p>Returns entities with moderation status of specified status</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request (RequestContext): HTTP context
status (List): List of integers representing status</p>
</dd>
<dt>Returns:</dt><dd><p>List of all entities with specified moderation status</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.get_publish_approval_status">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">get_publish_approval_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_history_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#get_publish_approval_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.get_publish_approval_status" title="Link to this definition">#</a></dt>
<dd><p>[!] Note: Legacy method from ./permissions.py</p>
<blockquote>
<div><p>Updated to only check GenericEntity since Phenotype/WorkingSet
no longer exists in the current application</p>
</div></blockquote>
<p>&#64;desc Get the publish approval status</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.get_user_groups">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">get_user_groups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#get_user_groups"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.get_user_groups" title="Link to this definition">#</a></dt>
<dd><p>Get the groups related to the requesting user</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.has_derived_edit_access">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">has_derived_edit_access</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_history_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#has_derived_edit_access"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.has_derived_edit_access" title="Link to this definition">#</a></dt>
<dd><p>Checks whether a user has derived its permissions from something
other than ownership, e.g. in the case of group permissions</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request (RequestContext): the HTTPRequest
entity_id (number): The entity ID of interest
entity_history_id (number) (optional): The entity’s historical id of interest</p>
</dd>
<dt>Returns:</dt><dd><p>A boolean value reflecting whether the user has derived edit access</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.has_member_access">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">has_member_access</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permissions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#has_member_access"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.has_member_access" title="Link to this definition">#</a></dt>
<dd><p>Checks if a user has access to an entity via its group membership</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.is_brand_accessible">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">is_brand_accessible</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_history_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#is_brand_accessible"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.is_brand_accessible" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>&#64;desc Uses the RequestContext’s brand value to det. whether an entity</dt><dd><p>is accessible to a user</p>
</dd>
<dt>Args:</dt><dd><p>request (RequestContext): the HTTPRequest
entity_id (string): the entity’s ID
entity_history_id (int, optional): the entity’s historical id</p>
</dd>
<dt>Returns:</dt><dd><p>A (boolean) that reflects its accessibility to the request context</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.is_member">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">is_member</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#is_member"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.is_member" title="Link to this definition">#</a></dt>
<dd><p>Checks if a User instance is a member of a group</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.is_publish_status">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">is_publish_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#is_publish_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.is_publish_status" title="Link to this definition">#</a></dt>
<dd><p>Checks the publication status of an entity</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.redirect_readonly">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">redirect_readonly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#redirect_readonly"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.redirect_readonly" title="Link to this definition">#</a></dt>
<dd><p>Method decorator to raise 403 if we’re on the read only site
to avoid insert / update methods via UI</p>
<p>e.g.</p>
<p>&#64;permission_utils.redirect_readonly
def some_view_func(request):</p>
<blockquote>
<div><p># stuff</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.try_get_valid_history_id">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">try_get_valid_history_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#try_get_valid_history_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.try_get_valid_history_id" title="Link to this definition">#</a></dt>
<dd><p>[!] Note: Legacy method from ./permissions.py</p>
<p>Tries to resolve a valid history id for an entity query.
If the entity is accessible (i.e. validate_access_to_view() is TRUE), 
then return the most recent version if the user is authenticated,      
Otherwise, this method will return the most recently published version, if available.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request (RequestContext): the request
set_class (str): a model
set_id (str): the id of the entity</p>
</dd>
<dt>Returns:</dt><dd><p>int representing history_id</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.user_can_edit_via_entity">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">user_can_edit_via_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concept</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#user_can_edit_via_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.user_can_edit_via_entity" title="Link to this definition">#</a></dt>
<dd><p>Checks to see if a user can edit a child concept via it’s phenotype owner’s permissions</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.user_has_concept_ownership">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">user_has_concept_ownership</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concept</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#user_has_concept_ownership"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.user_has_concept_ownership" title="Link to this definition">#</a></dt>
<dd><p>[!] Legacy permissions method</p>
<p>Determines whether the user has top-level access to the Concept,
and can therefore modify it</p>
<dl class="simple">
<dt>Args:</dt><dd><p>user (User()): the user instance
concept (Concept()): the concept instance</p>
</dd>
<dt>Returns:</dt><dd><p>(boolean) that reflects whether the user has top-level access</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.validate_access_to_view">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">validate_access_to_view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_history_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#validate_access_to_view"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.validate_access_to_view" title="Link to this definition">#</a></dt>
<dd><p>Validate access to view the entity</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.permission_utils.was_archived">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.permission_utils.</span></span><span class="sig-name descname"><span class="pre">was_archived</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/permission_utils.html#was_archived"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.permission_utils.was_archived" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>Checks whether an entity was ever archived:</dt><dd><ul class="simple">
<li><p>Archive status is derived from the top-most entity, i.e. the latest version</p></li>
<li><p>We assume that the instance was deleted in cases where the instance does
not exist within the database</p></li>
</ul>
</dd>
<dt>Args:</dt><dd><p>entity_id (integer): The ID of the entity</p>
</dd>
<dt>Returns:</dt><dd><p>A (boolean) that describes the archived state of an entity</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-clinicalcode.entity_utils.publish_utils">
<span id="clinicalcode-entity-utils-publish-utils-module"></span><h2>clinicalcode.entity_utils.publish_utils module<a class="headerlink" href="#module-clinicalcode.entity_utils.publish_utils" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.publish_utils.check_child_validity">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.publish_utils.</span></span><span class="sig-name descname"><span class="pre">check_child_validity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_publication_validity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/publish_utils.html#check_child_validity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.publish_utils.check_child_validity" title="Link to this definition">#</a></dt>
<dd><p>Wrapper for ‘check_children’ method authored by &#64;zinnurov
to optionally test publication &amp; deletion status</p>
<p>[!] Implementation required until we can discuss how to handle the issues
surrounding legacy Phenotypes / Concepts that have imported entities from
archived and/or unpublished entities.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>request {RequestContext}: the request context of the form
entity {instance}: an instance of an entity
entity_class {Model()}: the model entity class</p>
</dd>
<dt>Returns:</dt><dd><p>{boolean} - a boolean that describes the validity of the child entity
{boolean} - a boolean that describes whether the entity passed the deleted test
{boolean} - a boolean that describes whether the entity passed the publication check
{list} - a list of any errors that may have been encountered when testing each entity</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.publish_utils.check_children">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.publish_utils.</span></span><span class="sig-name descname"><span class="pre">check_children</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_class</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/publish_utils.html#check_children"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.publish_utils.check_children" title="Link to this definition">#</a></dt>
<dd><p>Check if entity child data is validated
&#64;param request: user request object
&#64;param entity: historical entity object
&#64;return: collection of boolean conditions</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.publish_utils.check_entity_to_publish">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.publish_utils.</span></span><span class="sig-name descname"><span class="pre">check_entity_to_publish</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_history_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/publish_utils.html#check_entity_to_publish"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.publish_utils.check_entity_to_publish" title="Link to this definition">#</a></dt>
<dd><p>Allow to publish if:
- entity is not deleted
- user is an owner
- Workingset contains codes
- all conceots are published
&#64;param request: user request object
&#64;param pk: entity id
&#64;param entity_history_id: historical id of entity
&#64;return: dictionary containing all conditions to publish</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.publish_utils.form_validation">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.publish_utils.</span></span><span class="sig-name descname"><span class="pre">form_validation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_history_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checks</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/publish_utils.html#form_validation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.publish_utils.form_validation" title="Link to this definition">#</a></dt>
<dd><p>Update correct historical table and send email message, and success message to screen
&#64;param request: user request object
&#64;param data: from any current operations with publish
&#64;param entity_history_id: entity historical id
&#64;param pk: entity id for database query
&#64;param entity: object
&#64;param checks: additional utils checks  before approval
&#64;return: updated data dictionary to update historical table and request message</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.publish_utils.format_message_and_send_email">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.publish_utils.</span></span><span class="sig-name descname"><span class="pre">format_message_and_send_email</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_history_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checks</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message_template</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/publish_utils.html#format_message_and_send_email"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.publish_utils.format_message_and_send_email" title="Link to this definition">#</a></dt>
<dd><p>Format the message, send an email, and update data with the new message</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.publish_utils.get_entity_class">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.publish_utils.</span></span><span class="sig-name descname"><span class="pre">get_entity_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_class</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/publish_utils.html#get_entity_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.publish_utils.get_entity_class" title="Link to this definition">#</a></dt>
<dd><p>Decide either phenotype or workingset is present so that we can use only one word
&#64;param entity_class: entity class to check</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.publish_utils.get_table_of_entity">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.publish_utils.</span></span><span class="sig-name descname"><span class="pre">get_table_of_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_class</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/publish_utils.html#get_table_of_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.publish_utils.get_table_of_entity" title="Link to this definition">#</a></dt>
<dd><p>Decide either table data from phenotype or workingset
&#64;param entity_class: entity class to check</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.publish_utils.is_valid_entity_class">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.publish_utils.</span></span><span class="sig-name descname"><span class="pre">is_valid_entity_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_class</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/publish_utils.html#is_valid_entity_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.publish_utils.is_valid_entity_class" title="Link to this definition">#</a></dt>
<dd><p>Regex function to check entity class name
&#64;param entity_class: entity class to check</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.publish_utils.send_email_decision_entity">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.publish_utils.</span></span><span class="sig-name descname"><span class="pre">send_email_decision_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_history_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/publish_utils.html#send_email_decision_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.publish_utils.send_email_decision_entity" title="Link to this definition">#</a></dt>
<dd><p>Call util function to send email decision
&#64;param workingset: workingset object
&#64;param approved: approved status flag</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.publish_utils.send_message">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.publish_utils.</span></span><span class="sig-name descname"><span class="pre">send_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_history_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checks</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/publish_utils.html#send_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.publish_utils.send_message" title="Link to this definition">#</a></dt>
<dd><p>Send email message with variational decisions approved/pending/declined and show message to the  client side
&#64;param pk: entity id
&#64;param data: dictionary data of approval stage
&#64;param entity: entity object
&#64;param entity_history_id: entity history id
&#64;param checks: additional checks of entity
&#64;return: updated data dictionary with client side message</p>
</dd></dl>

</section>
<section id="module-clinicalcode.entity_utils.search_utils">
<span id="clinicalcode-entity-utils-search-utils-module"></span><h2>clinicalcode.entity_utils.search_utils module<a class="headerlink" href="#module-clinicalcode.entity_utils.search_utils" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.apply_param_to_query">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">apply_param_to_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_dynamic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_term</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#apply_param_to_query"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.apply_param_to_query" title="Link to this definition">#</a></dt>
<dd><p>Tries to apply a URL param to a query if its able to resolve and validate the param data</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.get_filter_info">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">get_filter_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#get_filter_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.get_filter_info" title="Link to this definition">#</a></dt>
<dd><p>Compiles the filter_info for a given field</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.get_metadata_filters">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">get_metadata_filters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#get_metadata_filters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.get_metadata_filters" title="Link to this definition">#</a></dt>
<dd><p>Gets all filterable fields of the top-level metadata</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.get_metadata_stats_by_field">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">get_metadata_stats_by_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">published</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">brand</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#get_metadata_stats_by_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.get_metadata_stats_by_field" title="Link to this definition">#</a></dt>
<dd><p>Retrieves the global statistics from metadata fields</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.get_renderable_entities">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">get_renderable_entities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'GET'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_term</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#get_renderable_entities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.get_renderable_entities" title="Link to this definition">#</a></dt>
<dd><p>Method gets searchable, published entities and applies filters retrieved from the request param(s)</p>
<dl class="simple">
<dt>Returns:</dt><dd><ol class="arabic simple">
<li><p>The entities and their data</p></li>
<li><p>The template associated with each of the entities</p></li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.get_source_references">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">get_source_references</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">struct</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#get_source_references"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.get_source_references" title="Link to this definition">#</a></dt>
<dd><p>Retrieves the refence values from source fields e.g. tags, collections, entity type</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.get_template_entities">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">get_template_entities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'GET'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_term</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#get_template_entities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.get_template_entities" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>Method to get a Template’s entities that:</dt><dd><ol class="arabic simple">
<li><p>Are accessible to the RequestContext’s user</p></li>
<li><p>Match the query parameters</p></li>
</ol>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>A page of the results as defined by the query param</dt><dd><ul class="simple">
<li><p>Contains the entities and their related children</p></li>
<li><p>Contains the pagination details</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.get_template_filters">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">get_template_filters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#get_template_filters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.get_template_filters" title="Link to this definition">#</a></dt>
<dd><p>Safely gets the filterable fields of a template</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.perform_trigram_search">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">perform_trigram_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queryset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_similarity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_by_relevance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#perform_trigram_search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.perform_trigram_search" title="Link to this definition">#</a></dt>
<dd><p>Performs trigram fuzzy search on generic entities</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.perform_vector_search">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">perform_vector_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queryset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_rank</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_by_relevance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#perform_vector_search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.perform_vector_search" title="Link to this definition">#</a></dt>
<dd><p>Performs a search on generic entities’ indexed search_vector field</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.reorder_search_results">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">reorder_search_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_results</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">searchterm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#reorder_search_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.reorder_search_results" title="Link to this definition">#</a></dt>
<dd><p>Method to reorder a QuerySet after a group or distinct
operation has been used during a previous filter</p>
<dl>
<dt>Args:</dt><dd><p>search_results (QuerySet): The current search result query set</p>
<p>order (dict(constants.ORDER_BY)): The order by clause information</p>
<dl class="simple">
<dt>searchterm (string): Any active searchterms - used to stop reorder</dt><dd><p>when rank is being used</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>A queryset containing all related codes of that particular coding system</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.search_codelist">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">search_codelist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coding_system</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_term</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_wildcard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">case_sensitive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_wildcard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#search_codelist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.search_codelist" title="Link to this definition">#</a></dt>
<dd><p>Attempts to search a codelist by a search term, given its coding system</p>
<dl>
<dt>Args:</dt><dd><p>coding_system (obj): The assoc. coding system that is to be searched</p>
<p>search_term (str): The search term used to query the table</p>
<p>use_desc (boolean): Whether to search by description instead of code</p>
<p>use_wildcard (boolean): Whether to search by wildcard</p>
<p>case_sensitive (boolean): Whether we use __regex or __iregex - only applies to pattern search</p>
<dl class="simple">
<dt>allow_wildcard (boolean): Whether to check for, and apply, regex patterns</dt><dd><p>through the ‘wildcard:’ prefix</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p>The QuerySet of codes (assoc. with the given codingsystem) that match the
search term</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.search_codelist_by_pattern">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">search_codelist_by_pattern</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coding_system</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">case_sensitive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#search_codelist_by_pattern"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.search_codelist_by_pattern" title="Link to this definition">#</a></dt>
<dd><p>Tries to match a coding system’s codes by a valid regex pattern</p>
<dl class="simple">
<dt>Args:</dt><dd><p>coding_system (obj): The coding system of interest
pattern (str): The regex pattern
use_desc (boolean): Whether to search via desc instead of code
case_sensitive (boolean): Whether we use __regex or __iregex</p>
</dd>
<dt>Returns:</dt><dd><p>A queryset containing all related codes of that particular coding system</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.search_codelist_by_term">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">search_codelist_by_term</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coding_system</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_term</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#search_codelist_by_term"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.search_codelist_by_term" title="Link to this definition">#</a></dt>
<dd><p>Fuzzy match codes in a coding system by a search term</p>
<dl class="simple">
<dt>Args:</dt><dd><p>coding_system (obj): The coding system of interest
search_term (str): The search term of interest
use_desc (boolean): Whether to search via desc instead of code</p>
</dd>
<dt>Returns:</dt><dd><p>A queryset containing all related codes of that particular coding system</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.search_entities">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">search_entities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queryset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fuzzy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_by_relevance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#search_entities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.search_entities" title="Link to this definition">#</a></dt>
<dd><p>Utility method to perform either trigram or vector search</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.search_entity_fields">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">search_entity_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">queryset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fuzzy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_by_relevance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#search_entity_fields"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.search_entity_fields" title="Link to this definition">#</a></dt>
<dd><p>Utility method to search one or more fields of a generic entity based on the parameters of this method</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.try_derive_entity_type">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">try_derive_entity_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#try_derive_entity_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.try_derive_entity_type" title="Link to this definition">#</a></dt>
<dd><p>Attempts to derive the entity type passed as a kwarg to the search view</p>
<dl class="simple">
<dt>Args:</dt><dd><p>entity_type (string): the entity_type parameter</p>
</dd>
<dt>Returns:</dt><dd><p>(list) containing the EntityClass ID if successful, otherwise returns None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.try_get_paginated_results">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">try_get_paginated_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#try_get_paginated_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.try_get_paginated_results" title="Link to this definition">#</a></dt>
<dd><p>Gets the paginated results based on request params and the given renderable entities</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.try_get_template_children">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">try_get_template_children</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#try_get_template_children"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.try_get_template_children" title="Link to this definition">#</a></dt>
<dd><p>Used to retrieve entities assoc. with this parent entity per
the template specification</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.try_get_template_statistics">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">try_get_template_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">brand</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ALL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">published</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'GenericEntity'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#try_get_template_statistics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.try_get_template_statistics" title="Link to this definition">#</a></dt>
<dd><p>Attempts to retrieve the the field’s statistics by brand, its publication status, and entity type</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.search_utils.validate_query_param">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.search_utils.</span></span><span class="sig-name descname"><span class="pre">validate_query_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/search_utils.html#validate_query_param"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.search_utils.validate_query_param" title="Link to this definition">#</a></dt>
<dd><p>Validates the query param based on its field type as defined by the template or metadata by examining its source</p>
</dd></dl>

</section>
<section id="module-clinicalcode.entity_utils.stats_utils">
<span id="clinicalcode-entity-utils-stats-utils-module"></span><h2>clinicalcode.entity_utils.stats_utils module<a class="headerlink" href="#module-clinicalcode.entity_utils.stats_utils" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.stats_utils.build_statistics">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.stats_utils.</span></span><span class="sig-name descname"><span class="pre">build_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statistics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">struct</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_entity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">brand</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/stats_utils.html#build_statistics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.stats_utils.build_statistics" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.stats_utils.clear_statistics_history">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.stats_utils.</span></span><span class="sig-name descname"><span class="pre">clear_statistics_history</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/stats_utils.html#clear_statistics_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.stats_utils.clear_statistics_history" title="Link to this definition">#</a></dt>
<dd><p>leave only the last record per day for each statistics category</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.stats_utils.collate_statistics">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.stats_utils.</span></span><span class="sig-name descname"><span class="pre">collate_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">brand</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/stats_utils.html#collate_statistics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.stats_utils.collate_statistics" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.stats_utils.collect_statistics">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.stats_utils.</span></span><span class="sig-name descname"><span class="pre">collect_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/stats_utils.html#collect_statistics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.stats_utils.collect_statistics" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>Need to change this for several reasons:</dt><dd><ol class="arabic simple">
<li><p>We can utilise receivers and signals so we don’t do this as a cronjob</p></li>
<li><p>Big O notation for this implementation is not great</p></li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.stats_utils.compute_homepage_stats">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.stats_utils.</span></span><span class="sig-name descname"><span class="pre">compute_homepage_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">brand</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/stats_utils.html#compute_homepage_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.stats_utils.compute_homepage_stats" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.stats_utils.compute_statistics">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.stats_utils.</span></span><span class="sig-name descname"><span class="pre">compute_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statistics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">brand</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/stats_utils.html#compute_statistics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.stats_utils.compute_statistics" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.stats_utils.get_field_values">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.stats_utils.</span></span><span class="sig-name descname"><span class="pre">get_field_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">struct</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/stats_utils.html#get_field_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.stats_utils.get_field_values" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.stats_utils.get_homepage_stats">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.stats_utils.</span></span><span class="sig-name descname"><span class="pre">get_homepage_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">brand</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/stats_utils.html#get_homepage_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.stats_utils.get_homepage_stats" title="Link to this definition">#</a></dt>
<dd><p>get homepage statistics for display.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.stats_utils.get_phenotype_data">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.stats_utils.</span></span><span class="sig-name descname"><span class="pre">get_phenotype_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">published_phenotypes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/stats_utils.html#get_phenotype_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.stats_utils.get_phenotype_data" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.stats_utils.get_published_phenotype_code_count">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.stats_utils.</span></span><span class="sig-name descname"><span class="pre">get_published_phenotype_code_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phenotype_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phenotype_history_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concept_information</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/stats_utils.html#get_published_phenotype_code_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.stats_utils.get_published_phenotype_code_count" title="Link to this definition">#</a></dt>
<dd><p>return the code count of a published phenotype version.
will save this count in Publishedphenotype table if not already so.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.stats_utils.save_homepage_stats">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.stats_utils.</span></span><span class="sig-name descname"><span class="pre">save_homepage_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">brand</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/stats_utils.html#save_homepage_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.stats_utils.save_homepage_stats" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.stats_utils.sort_by_count">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.stats_utils.</span></span><span class="sig-name descname"><span class="pre">sort_by_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/stats_utils.html#sort_by_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.stats_utils.sort_by_count" title="Link to this definition">#</a></dt>
<dd><p>Used to sort filter statistics in descending order</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.stats_utils.transform_counted_field">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.stats_utils.</span></span><span class="sig-name descname"><span class="pre">transform_counted_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/stats_utils.html#transform_counted_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.stats_utils.transform_counted_field" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.stats_utils.try_get_cached_data">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.stats_utils.</span></span><span class="sig-name descname"><span class="pre">try_get_cached_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">struct</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">brand</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/stats_utils.html#try_get_cached_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.stats_utils.try_get_cached_data" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</section>
<section id="module-clinicalcode.entity_utils.template_utils">
<span id="clinicalcode-entity-utils-template-utils-module"></span><h2>clinicalcode.entity_utils.template_utils module<a class="headerlink" href="#module-clinicalcode.entity_utils.template_utils" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.get_detailed_options_value">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">get_detailed_options_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#get_detailed_options_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.get_detailed_options_value" title="Link to this definition">#</a></dt>
<dd><p>Tries to get the detailed options parameter from a layout’s field entry</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.get_detailed_sourced_value">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">get_detailed_sourced_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#get_detailed_sourced_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.get_detailed_sourced_value" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>Tries to get the detailed sourced value of a dynamic field from its layout and/or </dt><dd><p>another model (if sourced)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.get_entity_field">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">get_entity_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#get_entity_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.get_entity_field" title="Link to this definition">#</a></dt>
<dd><p>Safely gets a field from an entity, either at the toplevel (e.g. its name) or from its template data (e.g. some dynamic field)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.get_field_item">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">get_field_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#get_field_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.get_field_item" title="Link to this definition">#</a></dt>
<dd><p>Gets a field item from a layout’s field lookup</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.get_layout_field">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">get_layout_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#get_layout_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.get_layout_field" title="Link to this definition">#</a></dt>
<dd><p>Safely gets a field from a layout’s field within its definition</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.get_layout_fields">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">get_layout_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#get_layout_fields"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.get_layout_fields" title="Link to this definition">#</a></dt>
<dd><p>Safely gets the fields from a layout</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.get_merged_definition">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">get_merged_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#get_merged_definition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.get_merged_definition" title="Link to this definition">#</a></dt>
<dd><p>Used to merge the metadata into a template such that interfaces, e.g. API/create,
can understand the origin of fields</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.get_metadata_field_value">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">get_metadata_field_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#get_metadata_field_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.get_metadata_field_value" title="Link to this definition">#</a></dt>
<dd><p>Tries to get the metadata field value of an entity after cleaning
it by removing the stripped fields, historical fields and userdata information
so that it can be safely presented to the client</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.get_metadata_value_from_source">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">get_metadata_value_from_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#get_metadata_value_from_source"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.get_metadata_value_from_source" title="Link to this definition">#</a></dt>
<dd><dl>
<dt>[!] Note: RequestContext is an optional parameter that can be provided to further filter</dt><dd><p>the results based on the request’s Brand</p>
</dd>
<dt>Tries to get the values from a top-level metadata field</dt><dd><ul class="simple">
<li><p>This method assumes it is sourced i.e. has a foreign key (has different names and/or filters)</p></li>
</ul>
<p>to another table</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.get_one_of_field">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">get_one_of_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#get_one_of_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.get_one_of_field" title="Link to this definition">#</a></dt>
<dd><p>Attempts to get a field member of an entity given the fields to check,
will return whichever is found first</p>
<dl class="simple">
<dt>Args:</dt><dd><p>entity (Model): the entity to examine
entity_fields (list): a list of fields to select from</p>
</dd>
<dt>Returns:</dt><dd><p>Either (a) the default value if none are found, or (b) the value of the field that was selected</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.get_options_value">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">get_options_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#get_options_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.get_options_value" title="Link to this definition">#</a></dt>
<dd><p>Tries to get the options parameter from a layout’s field entry</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.get_ordered_definition">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">get_ordered_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">definition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clean_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#get_ordered_definition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.get_ordered_definition" title="Link to this definition">#</a></dt>
<dd><p>Safely gets the ‘layout_order’ field from the definition and tries
to reorder the JSONB result so that iteration over fields are in the correct
order</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.get_sourced_value">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">get_sourced_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#get_sourced_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.get_sourced_value" title="Link to this definition">#</a></dt>
<dd><p>Tries to get the sourced value of a dynamic field from its layout and/or another model (if sourced)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.get_template_data_values">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">get_template_data_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hide_user_details</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#get_template_data_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.get_template_data_values" title="Link to this definition">#</a></dt>
<dd><p>Retrieves the sourced values from an entity in an array</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.get_template_sourced_values">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">get_template_sourced_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#get_template_sourced_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.get_template_sourced_values" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>[!] Note: RequestContext is an optional parameter that can be provided to further filter</dt><dd><p>the results based on the request’s Brand</p>
</dd>
</dl>
<p>Returns the complete option list of an enum or a sourced field</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.is_data_safe">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">is_data_safe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#is_data_safe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.is_data_safe" title="Link to this definition">#</a></dt>
<dd><p>Determines whether the template data of an entity instance is null</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.is_filterable">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">is_filterable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#is_filterable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.is_filterable" title="Link to this definition">#</a></dt>
<dd><p>Checks if a field is filterable as defined by its layout</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.is_layout_safe">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">is_layout_safe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layout</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#is_layout_safe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.is_layout_safe" title="Link to this definition">#</a></dt>
<dd><p>Determines whether the definition of a layout is null</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.is_metadata">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">is_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#is_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.is_metadata" title="Link to this definition">#</a></dt>
<dd><p>Checks whether a field is accounted for in the metadata of an entity e.g. name, tags, collections</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.is_single_search_only">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">is_single_search_only</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#is_single_search_only"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.is_single_search_only" title="Link to this definition">#</a></dt>
<dd><p>Checks if the single_search_only attribute is present in a given template’s field</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.is_valid_field">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">is_valid_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#is_valid_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.is_valid_field" title="Link to this definition">#</a></dt>
<dd><p>Checks to see if a field is a valid member of a template</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.try_get_content">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">try_get_content</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#try_get_content"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.try_get_content" title="Link to this definition">#</a></dt>
<dd><p>Attempts to get content within a dict by a key, if it fails to do so, returns the default value</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.try_get_filter_query">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">try_get_filter_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#try_get_filter_query"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.try_get_filter_query" title="Link to this definition">#</a></dt>
<dd><dl>
<dt>&#64;desc cleans the filter query provided by a template / metadata</dt><dd><p>and applies the ENTITY_FILTER_PARAMS filter generator if available
otherwise it will remove this key from the query</p>
</dd>
<dt>Args:</dt><dd><p>field_name (string): the name of the field
source (dict): the field filter provided by a template and/or metadata</p>
<p>request (RequestContext): the current request context, if available</p>
</dd>
<dt>Returns:</dt><dd><p>The final filter query as a (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.try_get_instance_field">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">try_get_instance_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#try_get_instance_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.try_get_instance_field" title="Link to this definition">#</a></dt>
<dd><p>Safely gets a top-level metadata field</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="clinicalcode.entity_utils.template_utils.try_get_layout">
<span class="sig-prename descclassname"><span class="pre">clinicalcode.entity_utils.template_utils.</span></span><span class="sig-name descname"><span class="pre">try_get_layout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/clinicalcode/entity_utils/template_utils.html#try_get_layout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#clinicalcode.entity_utils.template_utils.try_get_layout" title="Link to this definition">#</a></dt>
<dd><p>Tries to get the definition from a template</p>
</dd></dl>

</section>
<section id="module-clinicalcode.entity_utils">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-clinicalcode.entity_utils" title="Link to this heading">#</a></h2>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="clinicalcode.forms.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">clinicalcode.forms package</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="clinicalcode.context_processors.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">clinicalcode.context_processors package</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, alex
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">clinicalcode.entity_utils package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-clinicalcode.entity_utils.api_utils">clinicalcode.entity_utils.api_utils module</a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.PrettyJsonRenderer"><code class="docutils literal notranslate"><span class="pre">PrettyJsonRenderer</span></code></a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.PrettyJsonRenderer.get_indent"><code class="docutils literal notranslate"><span class="pre">PrettyJsonRenderer.get_indent()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.annotate_linked_entities"><code class="docutils literal notranslate"><span class="pre">annotate_linked_entities()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.build_final_codelist_from_concepts"><code class="docutils literal notranslate"><span class="pre">build_final_codelist_from_concepts()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.build_query_from_template"><code class="docutils literal notranslate"><span class="pre">build_query_from_template()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.create_update_from_api_form"><code class="docutils literal notranslate"><span class="pre">create_update_from_api_form()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.exists_concept"><code class="docutils literal notranslate"><span class="pre">exists_concept()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.exists_entity"><code class="docutils literal notranslate"><span class="pre">exists_entity()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.exists_historical_concept"><code class="docutils literal notranslate"><span class="pre">exists_historical_concept()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.exists_historical_entity"><code class="docutils literal notranslate"><span class="pre">exists_historical_entity()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.get_codelist_from_entity"><code class="docutils literal notranslate"><span class="pre">get_codelist_from_entity()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.get_concept_version_history"><code class="docutils literal notranslate"><span class="pre">get_concept_version_history()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.get_concept_versions_from_entity"><code class="docutils literal notranslate"><span class="pre">get_concept_versions_from_entity()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.get_entity_detail"><code class="docutils literal notranslate"><span class="pre">get_entity_detail()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.get_entity_detail_from_layout"><code class="docutils literal notranslate"><span class="pre">get_entity_detail_from_layout()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.get_entity_detail_from_meta"><code class="docutils literal notranslate"><span class="pre">get_entity_detail_from_meta()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.get_entity_version_history"><code class="docutils literal notranslate"><span class="pre">get_entity_version_history()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.get_formatted_concept_codes"><code class="docutils literal notranslate"><span class="pre">get_formatted_concept_codes()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.get_layout_from_entity"><code class="docutils literal notranslate"><span class="pre">get_layout_from_entity()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.get_ordered_entity_detail"><code class="docutils literal notranslate"><span class="pre">get_ordered_entity_detail()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.get_template_versions"><code class="docutils literal notranslate"><span class="pre">get_template_versions()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.is_malformed_entity_id"><code class="docutils literal notranslate"><span class="pre">is_malformed_entity_id()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.populate_entity_version_id"><code class="docutils literal notranslate"><span class="pre">populate_entity_version_id()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.api_utils.validate_api_create_update_form"><code class="docutils literal notranslate"><span class="pre">validate_api_create_update_form()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-clinicalcode.entity_utils.concept_utils">clinicalcode.entity_utils.concept_utils module</a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.concept_utils.get_associated_concept_codes"><code class="docutils literal notranslate"><span class="pre">get_associated_concept_codes()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.concept_utils.get_clinical_concept_data"><code class="docutils literal notranslate"><span class="pre">get_clinical_concept_data()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.concept_utils.get_concept_codelist"><code class="docutils literal notranslate"><span class="pre">get_concept_codelist()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.concept_utils.get_concept_component_details"><code class="docutils literal notranslate"><span class="pre">get_concept_component_details()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.concept_utils.get_concept_dataset"><code class="docutils literal notranslate"><span class="pre">get_concept_dataset()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.concept_utils.get_latest_accessible_concept"><code class="docutils literal notranslate"><span class="pre">get_latest_accessible_concept()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.concept_utils.get_latest_published_concept"><code class="docutils literal notranslate"><span class="pre">get_latest_published_concept()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.concept_utils.get_minimal_concept_data"><code class="docutils literal notranslate"><span class="pre">get_minimal_concept_data()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.concept_utils.get_review_concept"><code class="docutils literal notranslate"><span class="pre">get_review_concept()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.concept_utils.get_reviewable_concept"><code class="docutils literal notranslate"><span class="pre">get_reviewable_concept()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.concept_utils.is_concept_published"><code class="docutils literal notranslate"><span class="pre">is_concept_published()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.concept_utils.was_concept_ever_published"><code class="docutils literal notranslate"><span class="pre">was_concept_ever_published()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-clinicalcode.entity_utils.constants">clinicalcode.entity_utils.constants module</a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.API_HIDDEN_FIELDS"><code class="docutils literal notranslate"><span class="pre">API_HIDDEN_FIELDS</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.API_MAP_FIELD_NAMES"><code class="docutils literal notranslate"><span class="pre">API_MAP_FIELD_NAMES</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.APPENDED_SECTIONS"><code class="docutils literal notranslate"><span class="pre">APPENDED_SECTIONS</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.APPROVAL_STATUS"><code class="docutils literal notranslate"><span class="pre">APPROVAL_STATUS</span></code></a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.APPROVAL_STATUS.ANY"><code class="docutils literal notranslate"><span class="pre">APPROVAL_STATUS.ANY</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.APPROVAL_STATUS.APPROVED"><code class="docutils literal notranslate"><span class="pre">APPROVAL_STATUS.APPROVED</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.APPROVAL_STATUS.PENDING"><code class="docutils literal notranslate"><span class="pre">APPROVAL_STATUS.PENDING</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.APPROVAL_STATUS.REJECTED"><code class="docutils literal notranslate"><span class="pre">APPROVAL_STATUS.REJECTED</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.APPROVAL_STATUS.REQUESTED"><code class="docutils literal notranslate"><span class="pre">APPROVAL_STATUS.REQUESTED</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.CARDS_DIRECTORY"><code class="docutils literal notranslate"><span class="pre">CARDS_DIRECTORY</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_REVIEW"><code class="docutils literal notranslate"><span class="pre">CLINICAL_CODE_REVIEW</span></code></a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_REVIEW.EXCLUDE"><code class="docutils literal notranslate"><span class="pre">CLINICAL_CODE_REVIEW.EXCLUDE</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_REVIEW.INCLUDE"><code class="docutils literal notranslate"><span class="pre">CLINICAL_CODE_REVIEW.INCLUDE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE"><code class="docutils literal notranslate"><span class="pre">CLINICAL_CODE_SOURCE</span></code></a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.CONCEPT"><code class="docutils literal notranslate"><span class="pre">CLINICAL_CODE_SOURCE.CONCEPT</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.CONCEPT_IMPORT"><code class="docutils literal notranslate"><span class="pre">CLINICAL_CODE_SOURCE.CONCEPT_IMPORT</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.EXPRESSION"><code class="docutils literal notranslate"><span class="pre">CLINICAL_CODE_SOURCE.EXPRESSION</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.FILE_IMPORT"><code class="docutils literal notranslate"><span class="pre">CLINICAL_CODE_SOURCE.FILE_IMPORT</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.QUERY_BUILDER"><code class="docutils literal notranslate"><span class="pre">CLINICAL_CODE_SOURCE.QUERY_BUILDER</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.SEARCH_TERM"><code class="docutils literal notranslate"><span class="pre">CLINICAL_CODE_SOURCE.SEARCH_TERM</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.CLINICAL_CODE_SOURCE.SELECT_IMPORT"><code class="docutils literal notranslate"><span class="pre">CLINICAL_CODE_SOURCE.SELECT_IMPORT</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.CLINICAL_RULE_TYPE"><code class="docutils literal notranslate"><span class="pre">CLINICAL_RULE_TYPE</span></code></a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.CLINICAL_RULE_TYPE.EXCLUDE"><code class="docutils literal notranslate"><span class="pre">CLINICAL_RULE_TYPE.EXCLUDE</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.CLINICAL_RULE_TYPE.INCLUDE"><code class="docutils literal notranslate"><span class="pre">CLINICAL_RULE_TYPE.INCLUDE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.CREATE_WIZARD_INPUT_DIR"><code class="docutils literal notranslate"><span class="pre">CREATE_WIZARD_INPUT_DIR</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.DETAIL_PAGE_APPENDED_FIELDS"><code class="docutils literal notranslate"><span class="pre">DETAIL_PAGE_APPENDED_FIELDS</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.DETAIL_PAGE_APPENDED_SECTIONS"><code class="docutils literal notranslate"><span class="pre">DETAIL_PAGE_APPENDED_SECTIONS</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.DETAIL_WIZARD_OUTPUT_DIR"><code class="docutils literal notranslate"><span class="pre">DETAIL_WIZARD_OUTPUT_DIR</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.ENTITY_FILTER_PARAMS"><code class="docutils literal notranslate"><span class="pre">ENTITY_FILTER_PARAMS</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.ENTITY_LIST_API_HIDDEN_FIELDS"><code class="docutils literal notranslate"><span class="pre">ENTITY_LIST_API_HIDDEN_FIELDS</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.ENTITY_STATUS"><code class="docutils literal notranslate"><span class="pre">ENTITY_STATUS</span></code></a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.ENTITY_STATUS.DRAFT"><code class="docutils literal notranslate"><span class="pre">ENTITY_STATUS.DRAFT</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.ENTITY_STATUS.FINAL"><code class="docutils literal notranslate"><span class="pre">ENTITY_STATUS.FINAL</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.FETCH_REQUEST_HEADER"><code class="docutils literal notranslate"><span class="pre">FETCH_REQUEST_HEADER</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.FILTER_COMPONENTS"><code class="docutils literal notranslate"><span class="pre">FILTER_COMPONENTS</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.FORM_METHODS"><code class="docutils literal notranslate"><span class="pre">FORM_METHODS</span></code></a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.FORM_METHODS.CREATE"><code class="docutils literal notranslate"><span class="pre">FORM_METHODS.CREATE</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.FORM_METHODS.UPDATE"><code class="docutils literal notranslate"><span class="pre">FORM_METHODS.UPDATE</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.GROUP_PERMISSIONS"><code class="docutils literal notranslate"><span class="pre">GROUP_PERMISSIONS</span></code></a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.GROUP_PERMISSIONS.EDIT"><code class="docutils literal notranslate"><span class="pre">GROUP_PERMISSIONS.EDIT</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.GROUP_PERMISSIONS.NONE"><code class="docutils literal notranslate"><span class="pre">GROUP_PERMISSIONS.NONE</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.GROUP_PERMISSIONS.VIEW"><code class="docutils literal notranslate"><span class="pre">GROUP_PERMISSIONS.VIEW</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.HISTORICAL_HIDDEN_FIELDS"><code class="docutils literal notranslate"><span class="pre">HISTORICAL_HIDDEN_FIELDS</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.IterableMeta"><code class="docutils literal notranslate"><span class="pre">IterableMeta</span></code></a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.IterableMeta.from_name"><code class="docutils literal notranslate"><span class="pre">IterableMeta.from_name()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.MIN_SINGLE_SEARCH"><code class="docutils literal notranslate"><span class="pre">MIN_SINGLE_SEARCH</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.ORDER_BY"><code class="docutils literal notranslate"><span class="pre">ORDER_BY</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.OWNER_PERMISSIONS"><code class="docutils literal notranslate"><span class="pre">OWNER_PERMISSIONS</span></code></a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.OWNER_PERMISSIONS.EDIT"><code class="docutils literal notranslate"><span class="pre">OWNER_PERMISSIONS.EDIT</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.OWNER_PERMISSIONS.NONE"><code class="docutils literal notranslate"><span class="pre">OWNER_PERMISSIONS.NONE</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.OWNER_PERMISSIONS.VIEW"><code class="docutils literal notranslate"><span class="pre">OWNER_PERMISSIONS.VIEW</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.PAGE_RESULTS_SIZE"><code class="docutils literal notranslate"><span class="pre">PAGE_RESULTS_SIZE</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.STRIPPED_FIELDS"><code class="docutils literal notranslate"><span class="pre">STRIPPED_FIELDS</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.TAG_TYPE"><code class="docutils literal notranslate"><span class="pre">TAG_TYPE</span></code></a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.TAG_TYPE.COLLECTION"><code class="docutils literal notranslate"><span class="pre">TAG_TYPE.COLLECTION</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.TAG_TYPE.TAG"><code class="docutils literal notranslate"><span class="pre">TAG_TYPE.TAG</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.TypeStatus"><code class="docutils literal notranslate"><span class="pre">TypeStatus</span></code></a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.TypeStatus.Biomarker"><code class="docutils literal notranslate"><span class="pre">TypeStatus.Biomarker</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.TypeStatus.Disease"><code class="docutils literal notranslate"><span class="pre">TypeStatus.Disease</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.TypeStatus.Drug"><code class="docutils literal notranslate"><span class="pre">TypeStatus.Drug</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.TypeStatus.Lifestyle_risk_factor"><code class="docutils literal notranslate"><span class="pre">TypeStatus.Lifestyle_risk_factor</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.TypeStatus.Musculoskeletal"><code class="docutils literal notranslate"><span class="pre">TypeStatus.Musculoskeletal</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.TypeStatus.Surgical_procedure"><code class="docutils literal notranslate"><span class="pre">TypeStatus.Surgical_procedure</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.TypeStatus.Type_status"><code class="docutils literal notranslate"><span class="pre">TypeStatus.Type_status</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.WORLD_ACCESS_PERMISSIONS"><code class="docutils literal notranslate"><span class="pre">WORLD_ACCESS_PERMISSIONS</span></code></a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.WORLD_ACCESS_PERMISSIONS.NONE"><code class="docutils literal notranslate"><span class="pre">WORLD_ACCESS_PERMISSIONS.NONE</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.WORLD_ACCESS_PERMISSIONS.VIEW"><code class="docutils literal notranslate"><span class="pre">WORLD_ACCESS_PERMISSIONS.VIEW</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.constants.metadata"><code class="docutils literal notranslate"><span class="pre">metadata</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-clinicalcode.entity_utils.create_utils">clinicalcode.entity_utils.create_utils module</a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.build_related_entities"><code class="docutils literal notranslate"><span class="pre">build_related_entities()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.compute_brand_context"><code class="docutils literal notranslate"><span class="pre">compute_brand_context()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.create_or_update_entity_from_form"><code class="docutils literal notranslate"><span class="pre">create_or_update_entity_from_form()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.get_createable_entities"><code class="docutils literal notranslate"><span class="pre">get_createable_entities()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.get_template_creation_data"><code class="docutils literal notranslate"><span class="pre">get_template_creation_data()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.try_add_computed_fields"><code class="docutils literal notranslate"><span class="pre">try_add_computed_fields()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.try_create_concept"><code class="docutils literal notranslate"><span class="pre">try_create_concept()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.try_update_concept"><code class="docutils literal notranslate"><span class="pre">try_update_concept()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.try_validate_entity"><code class="docutils literal notranslate"><span class="pre">try_validate_entity()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.try_validate_sourced_value"><code class="docutils literal notranslate"><span class="pre">try_validate_sourced_value()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.validate_computed_field"><code class="docutils literal notranslate"><span class="pre">validate_computed_field()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.validate_concept_form"><code class="docutils literal notranslate"><span class="pre">validate_concept_form()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.validate_entity_form"><code class="docutils literal notranslate"><span class="pre">validate_entity_form()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.validate_form_data_type"><code class="docutils literal notranslate"><span class="pre">validate_form_data_type()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.validate_form_entity"><code class="docutils literal notranslate"><span class="pre">validate_form_entity()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.validate_form_method"><code class="docutils literal notranslate"><span class="pre">validate_form_method()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.validate_form_template"><code class="docutils literal notranslate"><span class="pre">validate_form_template()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.validate_metadata_value"><code class="docutils literal notranslate"><span class="pre">validate_metadata_value()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.validate_related_entities"><code class="docutils literal notranslate"><span class="pre">validate_related_entities()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.validate_template_field"><code class="docutils literal notranslate"><span class="pre">validate_template_field()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.create_utils.validate_template_value"><code class="docutils literal notranslate"><span class="pre">validate_template_value()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-clinicalcode.entity_utils.data_utils">clinicalcode.entity_utils.data_utils module</a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.data_utils.try_find_duplicates"><code class="docutils literal notranslate"><span class="pre">try_find_duplicates()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-clinicalcode.entity_utils.email_utils">clinicalcode.entity_utils.email_utils module</a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.email_utils.attach_image_to_email"><code class="docutils literal notranslate"><span class="pre">attach_image_to_email()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.email_utils.get_scheduled_email_to_send"><code class="docutils literal notranslate"><span class="pre">get_scheduled_email_to_send()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.email_utils.send_review_email_generic"><code class="docutils literal notranslate"><span class="pre">send_review_email_generic()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-clinicalcode.entity_utils.entity_db_utils">clinicalcode.entity_utils.entity_db_utils module</a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.entity_db_utils.chk_valid_id"><code class="docutils literal notranslate"><span class="pre">chk_valid_id()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.entity_db_utils.getConceptBrands"><code class="docutils literal notranslate"><span class="pre">getConceptBrands()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.entity_db_utils.get_base_template_definition"><code class="docutils literal notranslate"><span class="pre">get_base_template_definition()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.entity_db_utils.get_brand_collection_ids"><code class="docutils literal notranslate"><span class="pre">get_brand_collection_ids()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.entity_db_utils.get_can_edit_subquery"><code class="docutils literal notranslate"><span class="pre">get_can_edit_subquery()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.entity_db_utils.get_concept_ids_from_phenotypes"><code class="docutils literal notranslate"><span class="pre">get_concept_ids_from_phenotypes()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.entity_db_utils.get_concept_ids_versions_of_historical_phenotype"><code class="docutils literal notranslate"><span class="pre">get_concept_ids_versions_of_historical_phenotype()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.entity_db_utils.get_entity_full_template_data"><code class="docutils literal notranslate"><span class="pre">get_entity_full_template_data()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.entity_db_utils.get_historical_entity"><code class="docutils literal notranslate"><span class="pre">get_historical_entity()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.entity_db_utils.get_historical_entityXXX"><code class="docutils literal notranslate"><span class="pre">get_historical_entityXXX()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.entity_db_utils.get_list_of_visible_entity_ids"><code class="docutils literal notranslate"><span class="pre">get_list_of_visible_entity_ids()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.entity_db_utils.get_order_from_parameter"><code class="docutils literal notranslate"><span class="pre">get_order_from_parameter()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.entity_db_utils.get_phenoflow_url"><code class="docutils literal notranslate"><span class="pre">get_phenoflow_url()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.entity_db_utils.get_q_highlight"><code class="docutils literal notranslate"><span class="pre">get_q_highlight()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.entity_db_utils.get_template_definition"><code class="docutils literal notranslate"><span class="pre">get_template_definition()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.entity_db_utils.get_visible_live_or_published_generic_entity_versions"><code class="docutils literal notranslate"><span class="pre">get_visible_live_or_published_generic_entity_versions()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.entity_db_utils.is_referred_from_search_page"><code class="docutils literal notranslate"><span class="pre">is_referred_from_search_page()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-clinicalcode.entity_utils.filter_utils">clinicalcode.entity_utils.filter_utils module</a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.filter_utils.DataTypeFilters"><code class="docutils literal notranslate"><span class="pre">DataTypeFilters</span></code></a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.filter_utils.DataTypeFilters.brand_filter"><code class="docutils literal notranslate"><span class="pre">DataTypeFilters.brand_filter()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.filter_utils.DataTypeFilters.test_params"><code class="docutils literal notranslate"><span class="pre">DataTypeFilters.test_params()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.filter_utils.DataTypeFilters.try_generate_filter"><code class="docutils literal notranslate"><span class="pre">DataTypeFilters.try_generate_filter()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.filter_utils.is_class_method"><code class="docutils literal notranslate"><span class="pre">is_class_method()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-clinicalcode.entity_utils.gen_utils">clinicalcode.entity_utils.gen_utils module</a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.ModelEncoder"><code class="docutils literal notranslate"><span class="pre">ModelEncoder</span></code></a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.ModelEncoder.default"><code class="docutils literal notranslate"><span class="pre">ModelEncoder.default()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.clean_str_as_db_col_name"><code class="docutils literal notranslate"><span class="pre">clean_str_as_db_col_name()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.decode_uri_parameter"><code class="docutils literal notranslate"><span class="pre">decode_uri_parameter()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.get_request_body"><code class="docutils literal notranslate"><span class="pre">get_request_body()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.get_start_and_end_dates"><code class="docutils literal notranslate"><span class="pre">get_start_and_end_dates()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.handle_fetch_request"><code class="docutils literal notranslate"><span class="pre">handle_fetch_request()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.is_datetime"><code class="docutils literal notranslate"><span class="pre">is_datetime()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.is_empty_string"><code class="docutils literal notranslate"><span class="pre">is_empty_string()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.is_fetch_request"><code class="docutils literal notranslate"><span class="pre">is_fetch_request()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.is_float"><code class="docutils literal notranslate"><span class="pre">is_float()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.is_int"><code class="docutils literal notranslate"><span class="pre">is_int()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.is_valid_uuid"><code class="docutils literal notranslate"><span class="pre">is_valid_uuid()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.jsonify_response"><code class="docutils literal notranslate"><span class="pre">jsonify_response()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.measure_perf"><code class="docutils literal notranslate"><span class="pre">measure_perf()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.parse_as_int_list"><code class="docutils literal notranslate"><span class="pre">parse_as_int_list()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.parse_date"><code class="docutils literal notranslate"><span class="pre">parse_date()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.parse_int"><code class="docutils literal notranslate"><span class="pre">parse_int()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.try_get_param"><code class="docutils literal notranslate"><span class="pre">try_get_param()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.try_match_pattern"><code class="docutils literal notranslate"><span class="pre">try_match_pattern()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.try_parse_form"><code class="docutils literal notranslate"><span class="pre">try_parse_form()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.gen_utils.try_value_as_type"><code class="docutils literal notranslate"><span class="pre">try_value_as_type()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-clinicalcode.entity_utils.model_utils">clinicalcode.entity_utils.model_utils module</a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.model_utils.append_coding_system_data"><code class="docutils literal notranslate"><span class="pre">append_coding_system_data()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.model_utils.get_brand_collection_ids"><code class="docutils literal notranslate"><span class="pre">get_brand_collection_ids()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.model_utils.get_coding_system_details"><code class="docutils literal notranslate"><span class="pre">get_coding_system_details()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.model_utils.get_entity_approval_status"><code class="docutils literal notranslate"><span class="pre">get_entity_approval_status()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.model_utils.get_entity_id"><code class="docutils literal notranslate"><span class="pre">get_entity_id()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.model_utils.get_tag_attribute"><code class="docutils literal notranslate"><span class="pre">get_tag_attribute()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.model_utils.get_userdata_details"><code class="docutils literal notranslate"><span class="pre">get_userdata_details()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.model_utils.is_legacy_entity"><code class="docutils literal notranslate"><span class="pre">is_legacy_entity()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.model_utils.jsonify_object"><code class="docutils literal notranslate"><span class="pre">jsonify_object()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.model_utils.modify_entity_change_reason"><code class="docutils literal notranslate"><span class="pre">modify_entity_change_reason()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.model_utils.try_get_brand"><code class="docutils literal notranslate"><span class="pre">try_get_brand()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.model_utils.try_get_entity_history"><code class="docutils literal notranslate"><span class="pre">try_get_entity_history()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.model_utils.try_get_instance"><code class="docutils literal notranslate"><span class="pre">try_get_instance()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-clinicalcode.entity_utils.permission_utils">clinicalcode.entity_utils.permission_utils module</a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.HasAccessToViewGenericEntityCheckMixin"><code class="docutils literal notranslate"><span class="pre">HasAccessToViewGenericEntityCheckMixin</span></code></a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.HasAccessToViewGenericEntityCheckMixin.dispatch"><code class="docutils literal notranslate"><span class="pre">HasAccessToViewGenericEntityCheckMixin.dispatch()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.allowed_to_create"><code class="docutils literal notranslate"><span class="pre">allowed_to_create()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.allowed_to_edit"><code class="docutils literal notranslate"><span class="pre">allowed_to_edit()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.allowed_to_permit"><code class="docutils literal notranslate"><span class="pre">allowed_to_permit()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.can_user_edit_entity"><code class="docutils literal notranslate"><span class="pre">can_user_edit_entity()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.can_user_view_concept"><code class="docutils literal notranslate"><span class="pre">can_user_view_concept()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.can_user_view_entity"><code class="docutils literal notranslate"><span class="pre">can_user_view_entity()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.check_brand_access"><code class="docutils literal notranslate"><span class="pre">check_brand_access()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.check_if_published"><code class="docutils literal notranslate"><span class="pre">check_if_published()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.get_accessible_concepts"><code class="docutils literal notranslate"><span class="pre">get_accessible_concepts()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.get_accessible_entities"><code class="docutils literal notranslate"><span class="pre">get_accessible_entities()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.get_editable_entities"><code class="docutils literal notranslate"><span class="pre">get_editable_entities()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.get_latest_concept_historical_id"><code class="docutils literal notranslate"><span class="pre">get_latest_concept_historical_id()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.get_latest_entity_historical_id"><code class="docutils literal notranslate"><span class="pre">get_latest_entity_historical_id()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.get_latest_entity_published"><code class="docutils literal notranslate"><span class="pre">get_latest_entity_published()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.get_latest_publicly_accessible_concept"><code class="docutils literal notranslate"><span class="pre">get_latest_publicly_accessible_concept()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.get_latest_published_version"><code class="docutils literal notranslate"><span class="pre">get_latest_published_version()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.get_moderation_entities"><code class="docutils literal notranslate"><span class="pre">get_moderation_entities()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.get_publish_approval_status"><code class="docutils literal notranslate"><span class="pre">get_publish_approval_status()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.get_user_groups"><code class="docutils literal notranslate"><span class="pre">get_user_groups()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.has_derived_edit_access"><code class="docutils literal notranslate"><span class="pre">has_derived_edit_access()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.has_member_access"><code class="docutils literal notranslate"><span class="pre">has_member_access()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.is_brand_accessible"><code class="docutils literal notranslate"><span class="pre">is_brand_accessible()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.is_member"><code class="docutils literal notranslate"><span class="pre">is_member()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.is_publish_status"><code class="docutils literal notranslate"><span class="pre">is_publish_status()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.redirect_readonly"><code class="docutils literal notranslate"><span class="pre">redirect_readonly()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.try_get_valid_history_id"><code class="docutils literal notranslate"><span class="pre">try_get_valid_history_id()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.user_can_edit_via_entity"><code class="docutils literal notranslate"><span class="pre">user_can_edit_via_entity()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.user_has_concept_ownership"><code class="docutils literal notranslate"><span class="pre">user_has_concept_ownership()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.validate_access_to_view"><code class="docutils literal notranslate"><span class="pre">validate_access_to_view()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.permission_utils.was_archived"><code class="docutils literal notranslate"><span class="pre">was_archived()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-clinicalcode.entity_utils.publish_utils">clinicalcode.entity_utils.publish_utils module</a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.publish_utils.check_child_validity"><code class="docutils literal notranslate"><span class="pre">check_child_validity()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.publish_utils.check_children"><code class="docutils literal notranslate"><span class="pre">check_children()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.publish_utils.check_entity_to_publish"><code class="docutils literal notranslate"><span class="pre">check_entity_to_publish()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.publish_utils.form_validation"><code class="docutils literal notranslate"><span class="pre">form_validation()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.publish_utils.format_message_and_send_email"><code class="docutils literal notranslate"><span class="pre">format_message_and_send_email()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.publish_utils.get_entity_class"><code class="docutils literal notranslate"><span class="pre">get_entity_class()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.publish_utils.get_table_of_entity"><code class="docutils literal notranslate"><span class="pre">get_table_of_entity()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.publish_utils.is_valid_entity_class"><code class="docutils literal notranslate"><span class="pre">is_valid_entity_class()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.publish_utils.send_email_decision_entity"><code class="docutils literal notranslate"><span class="pre">send_email_decision_entity()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.publish_utils.send_message"><code class="docutils literal notranslate"><span class="pre">send_message()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-clinicalcode.entity_utils.search_utils">clinicalcode.entity_utils.search_utils module</a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.apply_param_to_query"><code class="docutils literal notranslate"><span class="pre">apply_param_to_query()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.get_filter_info"><code class="docutils literal notranslate"><span class="pre">get_filter_info()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.get_metadata_filters"><code class="docutils literal notranslate"><span class="pre">get_metadata_filters()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.get_metadata_stats_by_field"><code class="docutils literal notranslate"><span class="pre">get_metadata_stats_by_field()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.get_renderable_entities"><code class="docutils literal notranslate"><span class="pre">get_renderable_entities()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.get_source_references"><code class="docutils literal notranslate"><span class="pre">get_source_references()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.get_template_entities"><code class="docutils literal notranslate"><span class="pre">get_template_entities()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.get_template_filters"><code class="docutils literal notranslate"><span class="pre">get_template_filters()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.perform_trigram_search"><code class="docutils literal notranslate"><span class="pre">perform_trigram_search()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.perform_vector_search"><code class="docutils literal notranslate"><span class="pre">perform_vector_search()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.reorder_search_results"><code class="docutils literal notranslate"><span class="pre">reorder_search_results()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.search_codelist"><code class="docutils literal notranslate"><span class="pre">search_codelist()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.search_codelist_by_pattern"><code class="docutils literal notranslate"><span class="pre">search_codelist_by_pattern()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.search_codelist_by_term"><code class="docutils literal notranslate"><span class="pre">search_codelist_by_term()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.search_entities"><code class="docutils literal notranslate"><span class="pre">search_entities()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.search_entity_fields"><code class="docutils literal notranslate"><span class="pre">search_entity_fields()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.try_derive_entity_type"><code class="docutils literal notranslate"><span class="pre">try_derive_entity_type()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.try_get_paginated_results"><code class="docutils literal notranslate"><span class="pre">try_get_paginated_results()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.try_get_template_children"><code class="docutils literal notranslate"><span class="pre">try_get_template_children()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.try_get_template_statistics"><code class="docutils literal notranslate"><span class="pre">try_get_template_statistics()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.search_utils.validate_query_param"><code class="docutils literal notranslate"><span class="pre">validate_query_param()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-clinicalcode.entity_utils.stats_utils">clinicalcode.entity_utils.stats_utils module</a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.stats_utils.build_statistics"><code class="docutils literal notranslate"><span class="pre">build_statistics()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.stats_utils.clear_statistics_history"><code class="docutils literal notranslate"><span class="pre">clear_statistics_history()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.stats_utils.collate_statistics"><code class="docutils literal notranslate"><span class="pre">collate_statistics()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.stats_utils.collect_statistics"><code class="docutils literal notranslate"><span class="pre">collect_statistics()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.stats_utils.compute_homepage_stats"><code class="docutils literal notranslate"><span class="pre">compute_homepage_stats()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.stats_utils.compute_statistics"><code class="docutils literal notranslate"><span class="pre">compute_statistics()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.stats_utils.get_field_values"><code class="docutils literal notranslate"><span class="pre">get_field_values()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.stats_utils.get_homepage_stats"><code class="docutils literal notranslate"><span class="pre">get_homepage_stats()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.stats_utils.get_phenotype_data"><code class="docutils literal notranslate"><span class="pre">get_phenotype_data()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.stats_utils.get_published_phenotype_code_count"><code class="docutils literal notranslate"><span class="pre">get_published_phenotype_code_count()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.stats_utils.save_homepage_stats"><code class="docutils literal notranslate"><span class="pre">save_homepage_stats()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.stats_utils.sort_by_count"><code class="docutils literal notranslate"><span class="pre">sort_by_count()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.stats_utils.transform_counted_field"><code class="docutils literal notranslate"><span class="pre">transform_counted_field()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.stats_utils.try_get_cached_data"><code class="docutils literal notranslate"><span class="pre">try_get_cached_data()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-clinicalcode.entity_utils.template_utils">clinicalcode.entity_utils.template_utils module</a><ul>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.get_detailed_options_value"><code class="docutils literal notranslate"><span class="pre">get_detailed_options_value()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.get_detailed_sourced_value"><code class="docutils literal notranslate"><span class="pre">get_detailed_sourced_value()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.get_entity_field"><code class="docutils literal notranslate"><span class="pre">get_entity_field()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.get_field_item"><code class="docutils literal notranslate"><span class="pre">get_field_item()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.get_layout_field"><code class="docutils literal notranslate"><span class="pre">get_layout_field()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.get_layout_fields"><code class="docutils literal notranslate"><span class="pre">get_layout_fields()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.get_merged_definition"><code class="docutils literal notranslate"><span class="pre">get_merged_definition()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.get_metadata_field_value"><code class="docutils literal notranslate"><span class="pre">get_metadata_field_value()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.get_metadata_value_from_source"><code class="docutils literal notranslate"><span class="pre">get_metadata_value_from_source()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.get_one_of_field"><code class="docutils literal notranslate"><span class="pre">get_one_of_field()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.get_options_value"><code class="docutils literal notranslate"><span class="pre">get_options_value()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.get_ordered_definition"><code class="docutils literal notranslate"><span class="pre">get_ordered_definition()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.get_sourced_value"><code class="docutils literal notranslate"><span class="pre">get_sourced_value()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.get_template_data_values"><code class="docutils literal notranslate"><span class="pre">get_template_data_values()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.get_template_sourced_values"><code class="docutils literal notranslate"><span class="pre">get_template_sourced_values()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.is_data_safe"><code class="docutils literal notranslate"><span class="pre">is_data_safe()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.is_filterable"><code class="docutils literal notranslate"><span class="pre">is_filterable()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.is_layout_safe"><code class="docutils literal notranslate"><span class="pre">is_layout_safe()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.is_metadata"><code class="docutils literal notranslate"><span class="pre">is_metadata()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.is_single_search_only"><code class="docutils literal notranslate"><span class="pre">is_single_search_only()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.is_valid_field"><code class="docutils literal notranslate"><span class="pre">is_valid_field()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.try_get_content"><code class="docutils literal notranslate"><span class="pre">try_get_content()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.try_get_filter_query"><code class="docutils literal notranslate"><span class="pre">try_get_filter_query()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.try_get_instance_field"><code class="docutils literal notranslate"><span class="pre">try_get_instance_field()</span></code></a></li>
<li><a class="reference internal" href="#clinicalcode.entity_utils.template_utils.try_get_layout"><code class="docutils literal notranslate"><span class="pre">try_get_layout()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-clinicalcode.entity_utils">Module contents</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=f2a433a1"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=32e29ea5"></script>
    </body>
</html>